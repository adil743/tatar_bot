import asyncio
import os
import random

from aiogram.client.default import DefaultBotProperties
from aiogram import Bot, Dispatcher, F
from aiogram.enums import ParseMode, ChatType
from aiogram.filters import CommandStart, Command
from aiogram.types import Message, BotCommand


# ====== –ù–ê–°–¢–†–û–ô–ö–ò ======
BOT_TOKEN = "7809086646:AAG-lBoD6kVdsjijPxqNhP6iTkKVZV87CGo"


# ====== –î–ê–ù–ù–´–ï –î–õ–Ø –û–¢–í–ï–¢–û–í –ë–û–¢–ê ======
# –í—Å–µ —à—É—Ç–∫–∏: —Å–Ω–∞—á–∞–ª–∞ —Ç–∞—Ç–∞—Ä—Å–∫–∏–π, –ø–æ—Ç–æ–º —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥.

JOKES = [
    (
        "–°”ô–ª–∞–º, “ó–∞–Ω–∞—à—ã–º! –ú–∏–Ω –ê–¥–∏–ª—å, –ö–∞–∑–∞–Ω–Ω—ã“£ –∏“£ —à–∞—è–Ω –±–æ—Ç—ã. üòé –ß”ô–π –∫—É–µ–ø “ó–∏–±”ô—Ä–¥–µ“£–º–µ –∏–Ω–¥–µ, ”ô–π–¥”ô —Å”©–π–ª”ô—à–µ–ø –∞–ª–∞–±—ã–∑!",
        "–ü—Ä–∏–≤–µ—Ç, –¥—É—à–∞ –º–æ—è! –Ø –ê–¥–∏–ª—å, —Å–∞–º—ã–π —à—É—Ç–ª–∏–≤—ã–π –±–æ—Ç –ö–∞–∑–∞–Ω–∏. üòé –ß–∞–π –ø–æ—Å—Ç–∞–≤–∏–ª(–∞)? –î–∞–≤–∞–π –ø–æ–æ–±—â–∞–µ–º—Å—è!"
    ),
    (
        "–≠–π, –∫–µ–º –º–∏–Ω–µ —á–∞–∫—ã—Ä–¥—ã? –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–¥–∞ –±–æ—Ç–ª–∞—Ä –¥–∞ —è–ª –∏—Ç”ô—Ä–≥”ô —Ç–∏–µ—à, –ª”ô–∫–∏–Ω —è—Ä–∞—Ä, —Å”©–π–ª”ô—à”ô–±–µ–∑. üòÑ",
        "–≠–π, –∫—Ç–æ –º–µ–Ω—è –∑–≤–∞–ª? –í –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–µ –¥–∞–∂–µ –±–æ—Ç—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–¥—ã—Ö–∞—Ç—å, –Ω–æ –ª–∞–¥–Ω–æ, –¥–∞–≤–∞–π –ø–æ–≥–æ–≤–æ—Ä–∏–º. üòÑ"
    ),
    (
        "–ß”ô–∫-—á”ô–∫ –±–∞—Ä–º—ã? –Æ–∫ –∏–∫”ô–Ω, —è—Ä–∞—Ä, —à—É–ª–∞–π –¥–∞ “ó–∞–≤–∞–ø –±–∏—Ä”ô–º. üòè",
        "–ß–∞–∫-—á–∞–∫ –µ—Å—Ç—å? –ï—Å–ª–∏ –Ω–µ—Ç, –ª–∞–¥–Ω–æ, –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—Ç–≤–µ—á—É. üòè"
    ),
    (
        "”ò–π–±”ô—Ç –∫–µ–Ω”ô —É—Ç—ã—Ä—ã–ø —Ç–æ—Ä–∞–º, –∫–∞—Ä–∞—Å–∞–º ‚Äî —Å–∏–Ω —è–∑–∞ –±–∞—à–ª–∞–≥–∞–Ω—Å—ã“£. –ú–µ–Ω”ô –º–∏–Ω, –ê–¥–∏–ª—å, –æ–Ω–ª–∞–π–Ω! üì≤",
        "–°–ø–æ–∫–æ–π–Ω–æ —Å–∏–¥–µ–ª, —Å–º–æ—Ç—Ä—é ‚Äî —Ç—ã –ø–∏—Å–∞—Ç—å –Ω–∞—á–∞–ª(–∞). –í–æ—Ç –æ–Ω —è, –ê–¥–∏–ª—å, –æ–Ω–ª–∞–π–Ω! üì≤"
    ),
    (
        "–ö–∞–∑–∞–Ω –ö—Ä–µ–º–ª–µ —à–∏–∫–µ–ª–ª–µ –Ω—ã–∫ –±—É–ª, ”ô –º–∏–Ω —Å–∏–Ω–µ –∫”ô–µ—Ñ –±–µ–ª”ô–Ω —Ç”ô—ç–º–∏–Ω –∏—Ç”ô–º. üòÅ",
        "–ë—É–¥—å –∫—Ä–µ–ø–∫–∏–º, –∫–∞–∫ –ö–∞–∑–∞–Ω—Å–∫–∏–π –ö—Ä–µ–º–ª—å, –∞ –∑–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞—é —è. üòÅ"
    ),
]

PROVERBS = [
    ("–ò—Ä-–µ–≥–µ—Ç —Å“Ø–∑–µ–Ω–¥”ô —Ç–æ—Ä–∞.", "–ù–∞—Å—Ç–æ—è—â–∏–π –º—É–∂—á–∏–Ω–∞ –¥–µ—Ä–∂–∏—Ç —Å–ª–æ–≤–æ."),
    ("”®–π–¥”ô –¥”ô —Ç–∞–≤—ã–∫ –±–∞—à, –∫–∏–±–µ—Ç—Ç”ô –¥”ô —Ç–∞–≤—ã–∫ –±–∞—à.", "–ì–¥–µ –Ω–∏ –ø–æ—è–≤–∏—Ç—Å—è ‚Äî –≤–µ–∑–¥–µ –ø–æ-—Å–≤–æ–µ–º—É –∫–æ–º–∞–Ω–¥—É–µ—Ç."),
    ("–ö–µ—à–µ –∫”©–ª–¥–µ—Ä–≥”ô–Ω –∫”©–ª–∫–µ–≥”ô –∫–∞–ª–º–∞—Å.", "–¢–æ—Ç, –∫—Ç–æ –≤–µ—Å–µ–ª–∏—Ç –¥—Ä—É–≥–∏—Ö, —Å–∞–º –±–µ–∑ —Ä–∞–¥–æ—Å—Ç–∏ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è."),
    ("–≠—à –±–µ—Ç–∫”ô—á ‚Äì —É–π–Ω–∞—Ä–≥–∞ —è—Ä—ã–π.", "–î–µ–ª–æ —Å–¥–µ–ª–∞–Ω–æ ‚Äî –º–æ–∂–Ω–æ –∏ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å."),
    ("–ê—à–∞–≥–∞–Ω –±–µ–ª–º–∏, —Ç—É—Ä–∞–≥–∞–Ω –±–µ–ª”ô.", "–¢–æ—Ç, –∫—Ç–æ –µ—Å—Ç, –Ω–µ –∑–Ω–∞–µ—Ç, —Ç–æ—Ç, –∫—Ç–æ –≥–æ—Ç–æ–≤–∏—Ç, –∑–Ω–∞–µ—Ç."),
]

FACTS_TATARSTAN = [
    (
        "–ë–µ–ª”ô—Å–µ“£–º–µ, –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–Ω—ã“£ –±–∞—à–∫–∞–ª–∞—Å—ã ‚Äî –ö–∞–∑–∞–Ω. –ú–æ–Ω–¥–∞ –∑–∞–º–∞–Ω—á–∞ IT-–ø–∞—Ä–∫ —Ç–∞, –±–æ—Ä—ã–Ω–≥—ã –ö—Ä–µ–º–ª—å –¥”ô –±–∞—Ä. üè∞",
        "–ó–Ω–∞–µ—à—å –ª–∏ —Ç—ã, —á—Ç–æ —Å—Ç–æ–ª–∏—Ü–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞ ‚Äî –ö–∞–∑–∞–Ω—å. –ó–¥–µ—Å—å –µ—Å—Ç—å –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π IT-–ø–∞—Ä–∫, –∏ –¥—Ä–µ–≤–Ω–∏–π –ö—Ä–µ–º–ª—å. üè∞"
    ),
    (
        "–ö–∞–∑–∞–Ω–¥–∞ –ö–æ–ª –®”ô—Ä–∏—Ñ –º”ô—á–µ—Ç–µ –±–∞—Ä ‚Äî –±–∏–∫ –º–∞—Ç—É—Ä “ª”ô–º –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω —Å–∏–º–≤–æ–ª—ã. üïå",
        "–í –ö–∞–∑–∞–Ω–∏ –µ—Å—Ç—å –º–µ—á–µ—Ç—å –ö—É–ª –®–∞—Ä–∏—Ñ ‚Äî –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤–∞—è –∏ —è–≤–ª—è–µ—Ç—Å—è —Å–∏–º–≤–æ–ª–æ–º –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞. üïå"
    ),
    (
        "–¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω —Ç—É–π–ª–∞—Ä—ã —á”ô–∫-—á”ô–∫—Å–µ–∑ –±—É–ª–º—ã–π! –ß”ô–∫-—á”ô–∫ ‚Äî –±–µ–∑–Ω–µ“£ –≥–æ—Ä—É—Ä–ª—ã–≥—ã–±—ã–∑. üçØ",
        "–¢–∞—Ç–∞—Ä—Å–∫–∞—è —Å–≤–∞–¥—å–±–∞ –±–µ–∑ —á–∞–∫-—á–∞–∫–∞ ‚Äî –Ω–µ —Å–≤–∞–¥—å–±–∞! –ß–∞–∫-—á–∞–∫ ‚Äî –Ω–∞—à–∞ –≥–æ—Ä–¥–æ—Å—Ç—å. üçØ"
    ),
    (
        "–°–∞–±–∞–Ω—Ç—É–π ‚Äî —Ç–∞—Ç–∞—Ä —Ö–∞–ª–∫—ã–Ω—ã“£ –∏“£ –∫“Ø“£–µ–ª–ª–µ –±”ô–π—Ä”ô–º–Ω”ô—Ä–µ–Ω–µ“£ –±–µ—Ä—Å–µ. –ú–∏–ª–ª–∏ —É–µ–Ω–Ω–∞—Ä, –∫”©—Ä”ô—à, –∫“Ø“£–µ–ª –∞—á—É! üéâ",
        "–°–∞–±–∞–Ω—Ç—É–π ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –≤–µ—Å—ë–ª—ã—Ö —Ç–∞—Ç–∞—Ä—Å–∫–∏—Ö –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤. –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–≥—Ä—ã, –±–æ—Ä—å–±–∞, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è! üéâ"
    ),
    (
        "–ò–¥–µ–ª –µ–ª–≥–∞—Å—ã –∞—à–∞ –∏—Å–∫–∏—Ç–∫–µ—á –º–∞—Ç—É—Ä –∫“Ø—Ä–µ–Ω–µ—à–ª”ô—Ä –∞—á—ã–ª–∞, –±–∏–≥—Ä”ô–∫ —Ç”ô –∫–∏—á –±–µ–ª”ô–Ω. üåÖ",
        "–° –í–æ–ª–≥–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –∫—Ä–∞—Å–∏–≤—ã–µ –≤–∏–¥—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –≤–µ—á–µ—Ä–æ–º. üåÖ"
    ),
]

FOOD_TATARSTAN = [
    (
        "–¢–∞—Ç–∞—Ä –∞—à–ª–∞—Ä—ã: ”©—á–ø–æ—á–º–∞–∫, —á”ô–∫-—á”ô–∫, –±—ç–ª–∏—à, –∫—ã—Å—Ç—ã–±—ã–π‚Ä¶ –ë–∞—à—Ç–∞ –∞—à—ã–π–±—ã–∑, –∞–Ω–Ω–∞—Ä—ã –∫–æ–¥ —è–∑–∞–±—ã–∑. üòã",
        "–¢–∞—Ç–∞—Ä—Å–∫–∏–µ –±–ª—é–¥–∞: —ç—á–ø–æ—á–º–∞–∫, —á–∞–∫-—á–∞–∫, –±—ç–ª–µ—à, –∫—ã—Å—Ç—ã–±—ã–π‚Ä¶ –°–Ω–∞—á–∞–ª–∞ –µ–¥–∏–º, –ø–æ—Ç–æ–º –∫–æ–¥ –ø–∏—à–µ–º. üòã"
    ),
    (
        "–ß”ô–π–Ω–µ –±–µ–∑ –±–æ–ª–∞–π –≥—ã–Ω–∞ —ç—á–º–∏–±–µ–∑ ‚Äî –≤–∞—Ä–µ–Ω—å–µ, —á”ô–∫-—á”ô–∫, –ø–∏—Ä–æ–≥–ª–∞—Ä –±–µ–ª”ô–Ω! ‚òï",
        "–ß–∞–π –º—ã –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ –Ω–µ –ø—å—ë–º ‚Äî —Ç–æ–ª—å–∫–æ —Å –≤–∞—Ä–µ–Ω—å–µ–º, —á–∞–∫-—á–∞–∫–æ–º –∏ –ø–∏—Ä–æ–≥–∞–º–∏! ‚òï"
    ),
    (
        "”ò–π–¥”ô, –ø—Ä–æ–µ–∫—Ç–ª–∞—Ä —Ç—É—Ä—ã–Ω–¥–∞ —Å”©–π–ª”ô—à–∫”ô–Ω—á–µ, –±–µ—Ä ”©—á–ø–æ—á–º–∞–∫ ‚Äú–∞—à–∞–ø‚Äù –∞–ª—ã–π–∫ –¥–∏–ø —É–π–ª—ã–π–º. ü•ü",
        "–î—É–º–∞—é, –ø—Ä–µ–∂–¥–µ —á–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö, –Ω–∞–¥–æ –º—ã—Å–ª–µ–Ω–Ω–æ ‚Äò—Å—ä–µ—Å—Ç—å‚Äô –æ–¥–∏–Ω —ç—á–ø–æ—á–º–∞–∫. ü•ü"
    ),
]

HELP_TEXT = """
<b>–°”ô–ª–∞–º! –ú–∏–Ω –ê–¥–∏–ª—å ‚Äî —à–∞—è–Ω —Ç–∞—Ç–∞—Ä –±–æ—Ç—ã –∏–∑ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞. üêØ</b>
<b>–ü—Ä–∏–≤–µ—Ç! –Ø –ê–¥–∏–ª—å ‚Äî —à—É—Ç–ª–∏–≤—ã–π —Ç–∞—Ç–∞—Ä—Å–∫–∏–π –±–æ—Ç –∏–∑ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞. üêØ</b>

<b>–ö–æ–º–∞–Ω–¥–∞–ª–∞—Ä / –ö–æ–º–∞–Ω–¥—ã:</b>
/start ‚Äì –ë–∞—à–ª–∞—É / –°—Ç–∞—Ä—Ç
/help ‚Äì –Ø—Ä–¥”ô–º / –ü–æ–º–æ—â—å
/about ‚Äì –ë–æ—Ç —Ç—É—Ä—ã–Ω–¥–∞ / –û –±–æ—Ç–µ
/joke ‚Äì –¢–∞—Ç–∞—Ä—á–∞ —à–∞—è—Ä—É + —Ä—É—Å—á–∞ / –¢–∞—Ç–∞—Ä—Å–∫–∞—è —à—É—Ç–∫–∞ —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º
/proverb ‚Äì –¢–∞—Ç–∞—Ä –º”ô–∫–∞–ª–µ + —Ä—É—Å—á–∞ / –¢–∞—Ç–∞—Ä—Å–∫–∞—è –ø–æ—Å–ª–æ–≤–∏—Ü–∞ —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º
/kazan ‚Äì –ö–∞–∑–∞–Ω “ª”ô–º –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω —Ç—É—Ä—ã–Ω–¥–∞ —Ñ–∞–∫—Ç–ª–∞—Ä / –§–∞–∫—Ç—ã –æ –ö–∞–∑–∞–Ω–∏ –∏ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–µ
/food ‚Äì –¢–∞—Ç–∞—Ä –∞—à–ª–∞—Ä—ã —Ç—É—Ä—ã–Ω–¥–∞ / –û —Ç–∞—Ç–∞—Ä—Å–∫–æ–π –µ–¥–µ
/tatlesson ‚Äì –¢–∞—Ç–∞—Ä —Ç–µ–ª–µ–Ω”ô –∫—ã—Å–∫–∞ –¥”ô—Ä–µ—Å / –ö–æ—Ä–æ—Ç–∫–∏–π —É—Ä–æ–∫ —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ
/tatnext ‚Äì –¢–∞–≥—ã–Ω –±–µ—Ä —Ñ—Ä–∞–∑–∞ / –ï—â—ë –æ–¥–Ω–∞ —Ñ—Ä–∞–∑–∞ –Ω–∞ —Ç–∞—Ç–∞—Ä—Å–∫–æ–º

–ì—Ä—É–ø–ø–∞–¥–∞ –º–∏–Ω–µ ¬´–ê–¥–∏–ª—å¬ª –¥–∏–ø —á–∞–∫—ã—Ä—Å–∞“£, “ó–∞–≤–∞–ø –±–∏—Ä”ô–º.  
–í –≥—Ä—É–ø–ø–µ, –µ—Å–ª–∏ –Ω–∞–ø–∏—à–µ—à—å ¬´–ê–¥–∏–ª—å¬ª, —è –æ—Ç–≤–µ—á—É.
"""

ABOUT_TEXT = """
<b>–ú–∏–Ω –ê–¥–∏–ª—å ‚Äî –∫“Ø–ø—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å —Ç–∞—Ç–∞—Ä –±–æ—Ç—ã. üáπüá∑</b>
<b>–Ø –ê–¥–∏–ª—å ‚Äî –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–∞—Ç–∞—Ä—Å–∫–∏–π –±–æ—Ç. üáπüá∑</b>

‚Ä¢ –¢–∞—Ç–∞—Ä—á–∞ —à–∞—è—Ä—ã–ø “ó–∞–≤–∞–ø –±–∏—Ä”ô–º, “ª”ô—Ä–≤–∞–∫—ã—Ç —Ä—É—Å—á–∞ –∞“£–ª–∞—Ç–º–∞ –¥–∞ –∫—É—è—Ä–≥–∞ —Ç—ã—Ä—ã—à–∞–º  
‚Ä¢ –û—Ç–≤–µ—á–∞—é –≤ —à—É—Ç–ª–∏–≤–æ–π —Ç–∞—Ç–∞—Ä—Å–∫–æ–π —Ñ–æ—Ä–º–µ –∏ —Å—Ç–∞—Ä–∞—é—Å—å –¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π  
‚Ä¢ –ö–∞–∑–∞–Ω–Ω—ã, –°–∞–±–∞–Ω—Ç—É–π–Ω—ã, —á”ô–∫-—á”ô–∫–Ω–µ “ª”ô–º IT-–ø—Ä–æ–µ–∫—Ç–ª–∞—Ä–Ω—ã —è—Ä–∞—Ç–∞–º  
‚Ä¢ –õ—é–±–ª—é –ö–∞–∑–∞–Ω—å, –°–∞–±–∞–Ω—Ç—É–π, —á–∞–∫-—á–∞–∫ –∏ IT-–ø—Ä–æ–µ–∫—Ç—ã  
‚Ä¢ –¢–∞—Ç–∞—Ä —Ç–µ–ª–µ–Ω–µ“£ —Ç”©–ø —Ñ—Ä–∞–∑–∞–ª–∞—Ä—ã–Ω ”©–π—Ä”ô—Ç”ô–º  
‚Ä¢ –ü–æ–º–æ–≥–∞—é –≤—ã—É—á–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

–Ø–∑ /help ‚Äì –∫–∞–ª–≥–∞–Ω –º”©–º–∫–∏–Ω–ª–µ–∫–ª”ô—Ä–Ω–µ –∫–∞—Ä—ã–π–±—ã–∑.  
–ù–∞–ø–∏—à–∏ /help ‚Äì –ø–æ—Å–º–æ—Ç—Ä–∏–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.
"""

# –ë–ê–ó–û–í–´–ï –§–†–ê–ó–´ –î–õ–Ø –û–ë–£–ß–ï–ù–ò–Ø –¢–ê–¢–ê–†–°–ö–û–ú–£
BASIC_TATAR_PHRASES = [
    {
        "tat": "–°”ô–ª–∞–º!",
        "trans": "S√§lam",
        "ru": "–ü—Ä–∏–≤–µ—Ç!"
    },
    {
        "tat": "–•”ô–ª–ª”ô—Ä –Ω–∏—á–µ–∫?",
        "trans": "H√§ller ni√ßek?",
        "ru": "–ö–∞–∫ –¥–µ–ª–∞?"
    },
    {
        "tat": "–†”ô—Ö–º”ô—Ç, ”ô–π–±”ô—Ç.",
        "trans": "R√§hm√§t, √§yb√§t.",
        "ru": "–°–ø–∞—Å–∏–±–æ, —Ö–æ—Ä–æ—à–æ."
    },
    {
        "tat": "–°–∏–Ω –∫–∞–π–¥–∞–Ω?",
        "trans": "Sin kaydan?",
        "ru": "–û—Ç–∫—É–¥–∞ —Ç—ã?"
    },
    {
        "tat": "–ú–∏–Ω –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–Ω–∞–Ω.",
        "trans": "Min Tatarstannan.",
        "ru": "–Ø –∏–∑ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞."
    },
    {
        "tat": "–ò—Å”ô–Ω–º–µ!",
        "trans": "Is√§nme!",
        "ru": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! / –ü—Ä–∏–≤–µ—Ç!"
    },
    {
        "tat": "–ò—Å”ô–Ω–ª–µ–∫-—Å–∞—É–ª—ã–∫ —Ç–µ–ª–∏–º.",
        "trans": "Is√§nlek-saulƒ±k telim.",
        "ru": "–ñ–µ–ª–∞—é –∑–¥–æ—Ä–æ–≤—å—è."
    },
    {
        "tat": "–†”ô—Ö–∏–º –∏—Ç!",
        "trans": "R√§him it!",
        "ru": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"
    },
    {
        "tat": "–°–∞—É –±—É–ª!",
        "trans": "Saw bul!",
        "ru": "–ü–æ–∫–∞!/–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"
    },
    {
        "tat": "–ö–∏–ª–µ—à—Ç–µ–∫!",
        "trans": "Kile≈ütek!",
        "ru": "–î–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å!"
    },
]


# ====== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ======

def random_joke(user_name: str | None = None) -> str:
    tat, ru = random.choice(JOKES)
    base = f"{tat}\n{ru}"
    if user_name:
        base += f"\n\n”ò–π–¥”ô, {user_name}, –¥”ô–≤–∞–º –∏—Ç”ô–±–µ–∑. üòâ\n–ù—É —á—Ç–æ, {user_name}, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º? üòâ"
    return base


def random_proverb() -> str:
    tatar, ru = random.choice(PROVERBS)
    return (
        "üìú <b>–¢–∞—Ç–∞—Ä –º”ô–∫–∞–ª–µ / –¢–∞—Ç–∞—Ä—Å–∫–∞—è –ø–æ—Å–ª–æ–≤–∏—Ü–∞:</b>\n"
        f"<b>{tatar}</b>\n\n"
        f"–†—É—Å—á–∞ –∞“£–ª–∞—Ç–º–∞ / –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:\n{ru}"
    )


def random_fact() -> str:
    tat, ru = random.choice(FACTS_TATARSTAN)
    return f"{tat}\n{ru}"


def random_food() -> str:
    tat, ru = random.choice(FOOD_TATARSTAN)
    return f"{tat}\n{ru}"


def random_tatar_lesson() -> str:
    phrase = random.choice(BASIC_TATAR_PHRASES)
    return (
        "üß† <b>–¢–∞—Ç–∞—Ä —Ç–µ–ª–µ / –¢–∞—Ç–∞—Ä—Å–∫–∏–π —è–∑—ã–∫</b>\n\n"
        f"–¢–∞—Ç–∞—Ä—á–∞: <b>{phrase['tat']}</b>\n"
        f"–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: <i>{phrase['trans']}</i>\n"
        f"–ü–µ—Ä–µ–≤–æ–¥: {phrase['ru']}\n\n"
        "–ö–∞–±–∞—Ç–ª–∞! / –ü–æ–≤—Ç–æ—Ä–∏ –≤—Å–ª—É—Ö. üôÇ"
    )


# ====== –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –ë–û–¢–ê ======

async def set_commands(bot: Bot):
    commands = [
        BotCommand(command="start", description="–ë–∞—à–ª–∞—É / –°—Ç–∞—Ä—Ç"),
        BotCommand(command="help", description="–Ø—Ä–¥”ô–º / –ü–æ–º–æ—â—å"),
        BotCommand(command="about", description="–ë–æ—Ç —Ç—É—Ä—ã–Ω–¥–∞ / –û –±–æ—Ç–µ"),
        BotCommand(command="joke", description="–¢–∞—Ç–∞—Ä —à—É—Ç–∫–∞ + —Ä—É—Å—á–∞"),
        BotCommand(command="proverb", description="–ú”ô–∫–∞–ª—å + –ø–µ—Ä–µ–≤–æ–¥"),
        BotCommand(command="kazan", description="–ö–∞–∑–∞–Ω / –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω —Ñ–∞–∫—Ç—ã"),
        BotCommand(command="food", description="–¢–∞—Ç–∞—Ä –∞—à–ª–∞—Ä—ã"),
        BotCommand(command="tatlesson", description="–£—Ä–æ–∫ —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ"),
        BotCommand(command="tatnext", description="–ï—â—ë —Ñ—Ä–∞–∑–∞ —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ"),
    ]
    await bot.set_my_commands(commands)


async def main():

    bot = Bot(
    token=BOT_TOKEN,
    default=DefaultBotProperties(parse_mode=ParseMode.HTML)
)
    dp = Dispatcher()

    # ====== –•–ï–ù–î–õ–ï–†–´ –ö–û–ú–ê–ù–î ======

    @dp.message(CommandStart())
    async def cmd_start(message: Message):
        user = message.from_user.first_name if message.from_user else None
        text = (
            f"–°”ô–ª–∞–º, {user or '–¥—É—Å'}! –ú–∏–Ω –ê–¥–∏–ª—å ‚Äî –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–Ω–∞–Ω —à–∞—è–Ω –±–æ—Ç. üòé\n"
            f"–ü—Ä–∏–≤–µ—Ç, {user or '–¥—Ä—É–≥'}! –Ø –ê–¥–∏–ª—å ‚Äî —à—É—Ç–ª–∏–≤—ã–π –±–æ—Ç –∏–∑ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞. üòé\n\n"
            f"–ö–æ–º–∞–Ω–¥–∞–ª–∞—Ä –∏—Å–µ–º–ª–µ–≥–µ ”©—á–µ–Ω /help —è–∑.\n"
            f"–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥, –Ω–∞–ø–∏—à–∏ /help."
        )
        await message.answer(text)

    @dp.message(Command("help"))
    async def cmd_help(message: Message):
        await message.answer(HELP_TEXT)

    @dp.message(Command("about"))
    async def cmd_about(message: Message):
        await message.answer(ABOUT_TEXT)

    @dp.message(Command("joke"))
    async def cmd_joke(message: Message):
        user = message.from_user.first_name if message.from_user else None
        await message.answer(random_joke(user))

    @dp.message(Command("proverb"))
    async def cmd_proverb(message: Message):
        await message.answer(random_proverb())

    @dp.message(Command("kazan"))
    async def cmd_kazan(message: Message):
        await message.answer("üèô <b>–ö–ê–ó–ê–ù / TATARSTAN</b>\n" + random_fact())

    @dp.message(Command("food"))
    async def cmd_food(message: Message):
        await message.answer("ü•ü <b>–¢–∞—Ç–∞—Ä –∞—à–ª–∞—Ä—ã / –¢–∞—Ç–∞—Ä—Å–∫–∞—è –∫—É—Ö–Ω—è</b>\n" + random_food())

    @dp.message(Command("tatlesson"))
    async def cmd_tatlesson(message: Message):
        await message.answer(random_tatar_lesson())

    @dp.message(Command("tatnext"))
    async def cmd_tatnext(message: Message):
        await message.answer(random_tatar_lesson())

    # ====== –û–ë–©–ò–ô –•–ï–ù–î–õ–ï–† –ù–ê –°–û–û–ë–©–ï–ù–ò–Ø ======

    @dp.message(F.text)
    async def on_text_message(message: Message):
        text_lower = message.text.lower()

        # –õ–°: –æ—Ç–≤–µ—á–∞–µ–º –≤—Å–µ–≥–¥–∞
        if message.chat.type == ChatType.PRIVATE:
            if any(word in text_lower for word in ["–ø—Ä–∏–≤–µ—Ç", "—Å”ô–ª–∞–º", "—Å–∞–ª–∞–º", "—Å–∞–ª–∞–º –∞–ª–µ–π–∫—É–º"]):
                await message.answer(random_joke(message.from_user.first_name if message.from_user else None))

            elif any(word in text_lower for word in ["–∫–∞–∑–∞–Ω—å", "kazan", "—Ç–∞—Ç–∞—Ä—Å—Ç–∞–Ω", "tatarstan"]):
                reply = (
                    "–ö–∞–∑–∞–Ω—å —Ç–µ–º–∞—Å—ã–Ω–∞ –∫“Ø—á”ô–±–µ–∑ –∏–∫”ô–Ω, ”ô–π–¥”ô! üòÑ\n"
                    "–†–∞–∑ —É–∂ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ç–µ–º–µ –ö–∞–∑–∞–Ω–∏, –ø–æ–µ—Ö–∞–ª–∏! üòÑ\n\n"
                    + random_fact()
                )
                await message.answer(reply)

            elif any(word in text_lower for word in ["–≥–æ–ª–æ–¥–µ–Ω", "–≥–æ–ª–æ–¥–Ω–∞", "—Ö–æ—á—É –µ—Å—Ç—å", "–∫—É—à–∞—Ç—å", "–∞—à—ã–π—Å—ã –∫–∏–ª”ô"]):
                reply = (
                    "–ê—à —Ç—É—Ä—ã–Ω–¥–∞ —Å”©–π–ª”ô—à“Ø ‚Äî –∏–∑–≥–µ —ç—à. üòã\n"
                    "–†–∞–∑–≥–æ–≤–æ—Ä—ã –ø—Ä–æ –µ–¥—É ‚Äî —Å–≤—è—Ç–æ–µ –¥–µ–ª–æ. üòã\n\n"
                    + random_food()
                )
                await message.answer(reply)

            elif any(word in text_lower for word in ["—É—á–∏ —Ç–∞—Ç–∞—Ä—Å–∫–∏–π", "—Ç–∞—Ç–∞—Ä—Å–∫–∏–π —è–∑—ã–∫", "—Ç–∞—Ç–∞—Ä —Ç–µ–ª", "tatarcha"]):
                await message.answer(
                    "–ö–∏–ª”ô—Å–µ —Ñ—Ä–∞–∑–∞–Ω—ã ”©–π—Ä”ô–Ω–∏–∫! / –î–∞–≤–∞–π –≤—ã—É—á–∏–º —Ñ—Ä–∞–∑—É!\n\n" + random_tatar_lesson()
                )
            else:
                answer_pairs = [
                    (
                        "–ú–∏–Ω —Ç—ã“£–ª—ã–π–º, –Ω–∏—à–ª”ô–ø –±–æ–ª–∞–π “ó–∏—Ç–¥–∏ —Å”©–π–ª”ô—à”ô –±–∞—à–ª–∞–¥—ã–∫ ”ô–ª–µ? üôÇ",
                        "–Ø —Å–ª—É—à–∞—é, –Ω–æ –ø–æ—á–µ–º—É –º—ã —Ç–∞–∫ —Å–µ—Ä—å—ë–∑–Ω–æ –Ω–∞—á–∞–ª–∏ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å? üôÇ"
                    ),
                    (
                        "”ò–π–¥”ô, —Å”©–π–ª”ô—à–∏–∫: –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, IT, —É–∫—É, —Ç–æ—Ä–º—ã—à ‚Äî –Ω”ô—Ä—Å”ô –∫—ã–∑—ã–∫—Å—ã–Ω–¥—ã—Ä–∞?",
                        "–î–∞–≤–∞–π –ø–æ–≥–æ–≤–æ—Ä–∏–º: –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, IT, —É—á—ë–±–∞, –∂–∏–∑–Ω—å ‚Äî —á—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?"
                    ),
                    (
                        "–°–∏–Ω —è–∑, –º–∏–Ω “ó–∞–≤–∞–ø –±–∏—Ä”ô–º. –ö“Ø“£–µ–ª—Å–µ–∑ –±—É–ª–º–∞—Å, –≤”ô–≥—ä–¥”ô! üòâ",
                        "–¢—ã –ø–∏—à–∏, —è –æ—Ç–≤–µ—á—É. –°–∫—É—á–Ω–æ –Ω–µ –±—É–¥–µ—Ç, –æ–±–µ—â–∞—é! üòâ"
                    ),
                    (
                        "–ö“Ø“£–µ–ª—Å–µ–∑–ª”ô–Ω–µ–ø —É—Ç—ã—Ä–º–∞, —Å“Ø–∑ –±–∞—à–ª–∞ ‚Äî –º–∏–Ω –¥”ô –∫—É—à—ã–ª–∞–º. üòÑ",
                        "–ù–µ —Å–∏–¥–∏ –≥—Ä—É—Å—Ç–Ω—ã–º, –Ω–∞—á–∏–Ω–∞–π —Ä–∞–∑–≥–æ–≤–æ—Ä ‚Äî —è —Ç–æ–∂–µ –ø–æ–¥–∫–ª—é—á—É—Å—å. üòÑ"
                    ),
                ]
                tat, ru = random.choice(answer_pairs)
                await message.answer(f"{tat}\n{ru}")

        # –ì—Ä—É–ø–ø—ã: –æ—Ç–≤–µ—á–∞–µ–º, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–ø–æ–º—è–Ω—É—Ç –ê–¥–∏–ª—å
        elif message.chat.type in (ChatType.GROUP, ChatType.SUPERGROUP):
            if "–∞–¥–∏–ª—å" in text_lower or "adil" in text_lower:
                user_name = message.from_user.first_name if message.from_user else None
                variants = [
                    (
                        f"”ò–π–µ-”ô–π–µ, –º–∏–Ω –º–æ–Ω–¥–∞! –ù”ô—Ä—Å”ô –±–∞—Ä, {user_name or '–¥—É—Å'}? üòè",
                        f"–î–∞-–¥–∞, —è –∑–¥–µ—Å—å! –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å, {user_name or '–¥—Ä—É–≥'}? üòè"
                    ),
                    (
                        "–ö–µ–º–¥–µ—Ä –ê–¥–∏–ª—å –¥–∏–¥–µ–º–µ? –ú–∏–Ω–µ–º —Ç–∞—Ç–∞—Ä –π”©—Ä”ô–≥–µ–º –∏–Ω–¥–µ –º–æ–Ω–¥–∞. ‚ù§Ô∏è",
                        "–ö—Ç–æ-—Ç–æ —Å–∫–∞–∑–∞–ª –ê–¥–∏–ª—å? –ú–æ—ë —Ç–∞—Ç–∞—Ä—Å–∫–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ —É–∂–µ –∑–¥–µ—Å—å. ‚ù§Ô∏è"
                    ),
                    (
                        "–ß–∞–∫—ã—Ä–¥—ã“£ ‚Äî –∫–∏–ª–¥–µ–º. –°–∞–±–∞–Ω—Ç—É–π –±–∞—à–ª—ã–π–±—ã–∑–º—ã –º–æ–Ω–¥–∞? üéâ",
                        "–ó–≤–∞–ª(–∞) ‚Äî –ø—Ä–∏—à—ë–ª. –°–∞–±–∞–Ω—Ç—É–π –∑–¥–µ—Å—å —É—Å—Ç—Ä–∞–∏–≤–∞–µ–º? üéâ"
                    ),
                    (
                        "”ò–π–¥”ô, —Å”©–π–ª”ô—à–∏–∫! –ö–∞–∑–∞–Ω, —á”ô–∫-—á”ô–∫, –∫–æ–¥, —É–∫—É ‚Äî –∫–∞–π—Å—ã —Ç–µ–º–∞–Ω—ã –∫“Ø—Ç”ô—Ä”ô–±–µ–∑? üòâ",
                        "–î–∞–≤–∞–π –ø–æ–æ–±—â–∞–µ–º—Å—è! –ö–∞–∑–∞–Ω—å, —á–∞–∫-—á–∞–∫, –∫–æ–¥, —É—á—ë–±–∞ ‚Äî –∫–∞–∫—É—é —Ç–µ–º—É –ø–æ–¥–Ω–∏–º–∞–µ–º? üòâ"
                    ),
                ]
                tat, ru = random.choice(variants)
                await message.reply(f"{tat}\n{ru}")

    # –ó–∞–ø—É—Å–∫
    await set_commands(bot)
    print("–ë–æ—Ç –ê–¥–∏–ª—å –∑–∞–ø—É—â–µ–Ω. –ù–∞–∂–º–∏ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.")
    await dp.start_polling(bot)


if __name__ == "__main__":
    asyncio.run(main())