import asyncio
import os
import random


import google.generativeai as genai

GEMINI_API_KEY = os.getenv("GEMINI_API_KEY")
genai.configure(api_key=GEMINI_API_KEY)

# –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –º–æ–¥–µ–ª—å Gemini
gemini_model = genai.GenerativeModel("gemini-1.5-flash")

from aiogram.client.default import DefaultBotProperties
from aiogram import Bot, Dispatcher, F
from aiogram.enums import ParseMode, ChatType
from aiogram.filters import CommandStart, Command
from aiogram.types import (
    Message,
    BotCommand,
    ReplyKeyboardMarkup,
    KeyboardButton,
    InlineKeyboardMarkup,
    InlineKeyboardButton,
    CallbackQuery,
)


# ====== –ù–ê–°–¢–†–û–ô–ö–ò ======
BOT_TOKEN = os.getenv("BOT_TOKEN")


# ====== –î–ê–ù–ù–´–ï –î–õ–Ø –û–¢–í–ï–¢–û–í –ë–û–¢–ê ======
# –í—Å–µ —à—É—Ç–∫–∏: —Å–Ω–∞—á–∞–ª–∞ —Ç–∞—Ç–∞—Ä—Å–∫–∏–π, –ø–æ—Ç–æ–º —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥.

JOKES = [
    (
        "–°”ô–ª–∞–º, “ó–∞–Ω–∞—à—ã–º! –ú–∏–Ω –ê–¥–∏–ª—å, –ö–∞–∑–∞–Ω–Ω—ã“£ –∏“£ —à–∞—è–Ω –±–æ—Ç—ã. üòé –ß”ô–π –∫—É–µ–ø “ó–∏–±”ô—Ä–¥–µ“£–º–µ –∏–Ω–¥–µ, ”ô–π–¥”ô —Å”©–π–ª”ô—à–µ–ø –∞–ª–∞–±—ã–∑!",
        "–ü—Ä–∏–≤–µ—Ç, –¥—É—à–∞ –º–æ—è! –Ø –ê–¥–∏–ª—å, —Å–∞–º—ã–π —à—É—Ç–ª–∏–≤—ã–π –±–æ—Ç –ö–∞–∑–∞–Ω–∏. üòé –ß–∞–π –ø–æ—Å—Ç–∞–≤–∏–ª(–∞)? –î–∞–≤–∞–π –ø–æ–æ–±—â–∞–µ–º—Å—è!"
    ),
    (
        "–≠–π, –∫–µ–º –º–∏–Ω–µ —á–∞–∫—ã—Ä–¥—ã? –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–¥–∞ –±–æ—Ç–ª–∞—Ä –¥–∞ —è–ª –∏—Ç”ô—Ä–≥”ô —Ç–∏–µ—à, –ª”ô–∫–∏–Ω —è—Ä–∞—Ä, —Å”©–π–ª”ô—à”ô–±–µ–∑. üòÑ",
        "–≠–π, –∫—Ç–æ –º–µ–Ω—è –∑–≤–∞–ª? –í –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–µ –¥–∞–∂–µ –±–æ—Ç—ã –¥–æ–ª–∂–Ω—ã –æ—Ç–¥—ã—Ö–∞—Ç—å, –Ω–æ –ª–∞–¥–Ω–æ, –¥–∞–≤–∞–π –ø–æ–≥–æ–≤–æ—Ä–∏–º. üòÑ"
    ),
    (
        "–ß”ô–∫-—á”ô–∫ –±–∞—Ä–º—ã? –Æ–∫ –∏–∫”ô–Ω, —è—Ä–∞—Ä, —à—É–ª–∞–π –¥–∞ “ó–∞–≤–∞–ø –±–∏—Ä”ô–º. üòè",
        "–ß–∞–∫-—á–∞–∫ –µ—Å—Ç—å? –ï—Å–ª–∏ –Ω–µ—Ç, –ª–∞–¥–Ω–æ, –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—Ç–≤–µ—á—É. üòè"
    ),
    (
        "”ò–π–±”ô—Ç –∫–µ–Ω”ô —É—Ç—ã—Ä—ã–ø —Ç–æ—Ä–∞–º, –∫–∞—Ä–∞—Å–∞–º ‚Äî —Å–∏–Ω —è–∑–∞ –±–∞—à–ª–∞–≥–∞–Ω—Å—ã“£. –ú–µ–Ω”ô –º–∏–Ω, –ê–¥–∏–ª—å, –æ–Ω–ª–∞–π–Ω! üì≤",
        "–°–ø–æ–∫–æ–π–Ω–æ —Å–∏–¥–µ–ª, —Å–º–æ—Ç—Ä—é ‚Äî —Ç—ã –ø–∏—Å–∞—Ç—å –Ω–∞—á–∞–ª(–∞). –í–æ—Ç –æ–Ω —è, –ê–¥–∏–ª—å, –æ–Ω–ª–∞–π–Ω! üì≤"
    ),
    (
        "–ö–∞–∑–∞–Ω –ö—Ä–µ–º–ª–µ —à–∏–∫–µ–ª–ª–µ –Ω—ã–∫ –±—É–ª, ”ô –º–∏–Ω —Å–∏–Ω–µ –∫”ô–µ—Ñ –±–µ–ª”ô–Ω —Ç”ô—ç–º–∏–Ω –∏—Ç”ô–º. üòÅ",
        "–ë—É–¥—å –∫—Ä–µ–ø–∫–∏–º, –∫–∞–∫ –ö–∞–∑–∞–Ω—Å–∫–∏–π –ö—Ä–µ–º–ª—å, –∞ –∑–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç–≤–µ—á–∞—é —è. üòÅ"
    ),
    (
        "¬´–ú–∏–Ω —Ñ–∏—Ç–Ω–µ—Å–∫–∞ –π”©—Ä–∏ –±–∞—à–ª–∞–¥—ã–º¬ª ‚Äî –¥–∏–ø —É–π–ª—ã–π–º –¥–∞, –∫–∏–±–µ—Ç–∫”ô “ó”ô—è“Ø —á—ã–≥–∞–º. –ë—É –¥–∞ –±–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å. üèÉ‚Äç‚ôÇÔ∏è",
        "–î—É–º–∞—é: ¬´—è –Ω–∞—á–∞–ª —Ö–æ–¥–∏—Ç—å –≤ —Ñ–∏—Ç–Ω–µ—Å¬ª, –∏–¥—É –ø–µ—à–∫–æ–º –¥–æ –º–∞–≥–∞–∑–∏–Ω–∞. –¢–æ–∂–µ –≤–µ–¥—å –ø—Ä–æ–≥—Ä–µ—Å—Å. üèÉ‚Äç‚ôÇÔ∏è"
    ),
    (
        "–ö–∏—á –±–µ–ª”ô–Ω –¥–∏–µ—Ç–∞ —Ç–æ—Ç–∞–º: ”©—á–ø–æ—á–º–∞–∫–Ω—ã –∫–∏—Å”ô–∫–ª”ô—Ä–≥”ô –±“Ø–ª–µ–ø –∞—à—ã–π–º. –®—É–ª–∞–π –∞–∑—Ä–∞–∫ –∫–µ–±–µ–∫ —Ç–æ–µ–ª–∞. üòè",
        "–í–µ—á–µ—Ä–æ–º –¥–µ—Ä–∂—É –¥–∏–µ—Ç—É: –¥–µ–ª—é —ç—á–ø–æ—á–º–∞–∫ –Ω–∞ –∫—É—Å–æ—á–∫–∏ –∏ –µ–º –ø–æ –æ—á–µ—Ä–µ–¥–∏. –¢–∞–∫ –±—É–¥—Ç–æ –º–µ–Ω—å—à–µ. üòè"
    ),
    (
        "–ê–π—Ñ–æ–Ω –∑–∞—Ä—è–¥–∫–∞–¥–∞, –º–∏–Ω –¥”ô –∑–∞—Ä—è–¥–∫–∞–¥–∞ ‚Äî –¥–∏–≤–∞–Ω–¥–∞ —è—Ç—ã–ø —è–ª –∏—Ç”ô–º. üîå",
        "–ê–π—Ñ–æ–Ω –Ω–∞ –∑–∞—Ä—è–¥–∫–µ, —è —Ç–æ–∂–µ –Ω–∞ –∑–∞—Ä—è–¥–∫–µ ‚Äî –ª–µ–∂—É –Ω–∞ –¥–∏–≤–∞–Ω–µ –∏ –æ—Ç–¥—ã—Ö–∞—é. üîå"
    ),
    (
        "–ö–µ—à–µ ‚Äò–º–æ—Ç–∏–≤–∞—Ü–∏—è‚Äô —ç–∑–ª–∏, ”ô –º–∏–Ω ‚Äò—á”ô–∫-—á”ô–∫ –∫–∞–π–¥–∞?‚Äô –¥–∏–ø –∫–µ–Ω”ô —Å–æ—Ä—ã–π–º. ü§î",
        "–ö—Ç–æ-—Ç–æ –∏—â–µ—Ç –º–æ—Ç–∏–≤–∞—Ü–∏—é, –∞ —è –ø—Ä–æ—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é: ¬´–≥–¥–µ —á–∞–∫-—á–∞–∫?¬ª ü§î"
    ),
    (
        "–î—É—Å–ª–∞—Ä—ã–º —Ñ–∏—Ç–Ω–µ—Å-—Ç—Ä–µ–∫–µ—Ä –∞–ª–∞, ”ô –º–∏–Ω ‚Äî —á”ô–π–Ω–∏–∫. –ú–∏–Ω–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å —á”ô–π–Ω–µ–∫—Ç”ô –∫–∞–π–Ω—ã–π. ‚òï",
        "–î—Ä—É–∑—å—è –ø–æ–∫—É–ø–∞—é—Ç —Ñ–∏—Ç–Ω–µ—Å‚Äë—Ç—Ä–µ–∫–µ—Ä, –∞ —è ‚Äî —á–∞–π–Ω–∏–∫. –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–∏–ø–∏—Ç –≤ —á–∞–π–Ω–∏–∫–µ. ‚òï"
    ),
]

PROVERBS = [
    ("–ò—Ä-–µ–≥–µ—Ç —Å“Ø–∑–µ–Ω–¥”ô —Ç–æ—Ä–∞.", "–ù–∞—Å—Ç–æ—è—â–∏–π –º—É–∂—á–∏–Ω–∞ –¥–µ—Ä–∂–∏—Ç —Å–ª–æ–≤–æ."),
    ("”®–π–¥”ô –¥”ô —Ç–∞–≤—ã–∫ –±–∞—à, –∫–∏–±–µ—Ç—Ç”ô –¥”ô —Ç–∞–≤—ã–∫ –±–∞—à.", "–ì–¥–µ –Ω–∏ –ø–æ—è–≤–∏—Ç—Å—è ‚Äî –≤–µ–∑–¥–µ –ø–æ-—Å–≤–æ–µ–º—É –∫–æ–º–∞–Ω–¥—É–µ—Ç."),
    ("–ö–µ—à–µ –∫”©–ª–¥–µ—Ä–≥”ô–Ω –∫”©–ª–∫–µ–≥”ô –∫–∞–ª–º–∞—Å.", "–¢–æ—Ç, –∫—Ç–æ –≤–µ—Å–µ–ª–∏—Ç –¥—Ä—É–≥–∏—Ö, —Å–∞–º –±–µ–∑ —Ä–∞–¥–æ—Å—Ç–∏ –Ω–µ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è."),
    ("–≠—à –±–µ—Ç–∫”ô—á ‚Äì —É–π–Ω–∞—Ä–≥–∞ —è—Ä—ã–π.", "–î–µ–ª–æ —Å–¥–µ–ª–∞–Ω–æ ‚Äî –º–æ–∂–Ω–æ –∏ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å."),
    ("–ê—à–∞–≥–∞–Ω –±–µ–ª–º–∏, —Ç—É—Ä–∞–≥–∞–Ω –±–µ–ª”ô.", "–¢–æ—Ç, –∫—Ç–æ –µ—Å—Ç, –Ω–µ –∑–Ω–∞–µ—Ç, —Ç–æ—Ç, –∫—Ç–æ –≥–æ—Ç–æ–≤–∏—Ç, –∑–Ω–∞–µ—Ç."),
    ("–ê—à—ã–∫–∫–∞–Ω –∞—à–∫–∞ –ø–µ—à–∫”ô–Ω.", "–ö—Ç–æ —Å–ø–µ—à–∏—Ç, —Ç–æ—Ç —á–∞—Å—Ç–æ –≤—Å—ë –ø–æ—Ä—Ç–∏—Ç."),
    ("–ö“Ø–ø –±–µ–ª–≥”ô–Ω –∫“Ø–ø –µ–ª–∞–º—ã–π.", "–ö—Ç–æ –º–Ω–æ–≥–æ –∑–Ω–∞–µ—Ç, —Ç–æ—Ç –º–µ–Ω—å—à–µ –ø–ª–∞—á–µ—Ç."),
    ("–ö“Ø—Ä—à–µ“£ —Ç—ã–Ω—ã—á –±—É–ª—Å–∞, –π–æ–∫—ã“£ —Ç”ô–º–ª–µ –±—É–ª–∞.", "–ö–æ–≥–¥–∞ —Å–æ—Å–µ–¥ —Å–ø–æ–∫–æ–π–Ω—ã–π, –∏ —Ç–≤–æ–π —Å–æ–Ω —Å–ª–∞–¥–∫–∏–π."),
    ("–°“Ø–∑ ‚Äî –∫”©–º–µ—à, —Ç—ã–Ω–ª—ã–∫ ‚Äî –∞–ª—Ç—ã–Ω.", "–°–ª–æ–≤–æ ‚Äî —Å–µ—Ä–µ–±—Ä–æ, –º–æ–ª—á–∞–Ω–∏–µ ‚Äî –∑–æ–ª–æ—Ç–æ."),
    ("–≠—à–ª”ô–≥”ô–Ω —Ç–µ—à–ª–∏, –π–æ–∫–ª–∞–≥–∞–Ω —Ç”©—à –∫“Ø—Ä”ô.", "–ö—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –æ—Ç–∫—É—Å—ã–≤–∞–µ—Ç, –∫—Ç–æ —Å–ø–∏—Ç ‚Äî –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–Ω—ã."),
]

FACTS_TATARSTAN = [
    (
        "–ë–µ–ª”ô—Å–µ“£–º–µ, –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–Ω—ã“£ –±–∞—à–∫–∞–ª–∞—Å—ã ‚Äî –ö–∞–∑–∞–Ω. –ú–æ–Ω–¥–∞ –∑–∞–º–∞–Ω—á–∞ IT-–ø–∞—Ä–∫ —Ç–∞, –±–æ—Ä—ã–Ω–≥—ã –ö—Ä–µ–º–ª—å –¥”ô –±–∞—Ä. üè∞",
        "–ó–Ω–∞–µ—à—å –ª–∏ —Ç—ã, —á—Ç–æ —Å—Ç–æ–ª–∏—Ü–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞ ‚Äî –ö–∞–∑–∞–Ω—å. –ó–¥–µ—Å—å –µ—Å—Ç—å –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π IT-–ø–∞—Ä–∫, –∏ –¥—Ä–µ–≤–Ω–∏–π –ö—Ä–µ–º–ª—å. üè∞"
    ),
    (
        "–ö–∞–∑–∞–Ω–¥–∞ –ö–æ–ª –®”ô—Ä–∏—Ñ –º”ô—á–µ—Ç–µ –±–∞—Ä ‚Äî –±–∏–∫ –º–∞—Ç—É—Ä “ª”ô–º –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω —Å–∏–º–≤–æ–ª—ã. üïå",
        "–í –ö–∞–∑–∞–Ω–∏ –µ—Å—Ç—å –º–µ—á–µ—Ç—å –ö—É–ª –®–∞—Ä–∏—Ñ ‚Äî –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤–∞—è –∏ —è–≤–ª—è–µ—Ç—Å—è —Å–∏–º–≤–æ–ª–æ–º –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞. üïå"
    ),
    (
        "–¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω —Ç—É–π–ª–∞—Ä—ã —á”ô–∫-—á”ô–∫—Å–µ–∑ –±—É–ª–º—ã–π! –ß”ô–∫-—á”ô–∫ ‚Äî –±–µ–∑–Ω–µ“£ –≥–æ—Ä—É—Ä–ª—ã–≥—ã–±—ã–∑. üçØ",
        "–¢–∞—Ç–∞—Ä—Å–∫–∞—è —Å–≤–∞–¥—å–±–∞ –±–µ–∑ —á–∞–∫-—á–∞–∫–∞ ‚Äî –Ω–µ —Å–≤–∞–¥—å–±–∞! –ß–∞–∫-—á–∞–∫ ‚Äî –Ω–∞—à–∞ –≥–æ—Ä–¥–æ—Å—Ç—å. üçØ"
    ),
    (
        "–°–∞–±–∞–Ω—Ç—É–π ‚Äî —Ç–∞—Ç–∞—Ä —Ö–∞–ª–∫—ã–Ω—ã“£ –∏“£ –∫“Ø“£–µ–ª–ª–µ –±”ô–π—Ä”ô–º–Ω”ô—Ä–µ–Ω–µ“£ –±–µ—Ä—Å–µ. –ú–∏–ª–ª–∏ —É–µ–Ω–Ω–∞—Ä, –∫”©—Ä”ô—à, –∫“Ø“£–µ–ª –∞—á—É! üéâ",
        "–°–∞–±–∞–Ω—Ç—É–π ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –≤–µ—Å—ë–ª—ã—Ö —Ç–∞—Ç–∞—Ä—Å–∫–∏—Ö –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–≤. –ù–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–≥—Ä—ã, –±–æ—Ä—å–±–∞, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è! üéâ"
    ),
    (
        "–ò–¥–µ–ª –µ–ª–≥–∞—Å—ã –∞—à–∞ –∏—Å–∫–∏—Ç–∫–µ—á –º–∞—Ç—É—Ä –∫“Ø—Ä–µ–Ω–µ—à–ª”ô—Ä –∞—á—ã–ª–∞, –±–∏–≥—Ä”ô–∫ —Ç”ô –∫–∏—á –±–µ–ª”ô–Ω. üåÖ",
        "–° –í–æ–ª–≥–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –∫—Ä–∞—Å–∏–≤—ã–µ –≤–∏–¥—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –≤–µ—á–µ—Ä–æ–º. üåÖ"
    ),
    (
        "–ö–∞–∑–∞–Ω–¥–∞ –º–µ—Ç—Ä–æ –¥–∞ –±–∞—Ä: –∫—ã—Å–∫–∞ –±—É–ª—Å–∞ –¥–∞, –±–∏–∫ —á–∏—Å—Ç–∞ “ª”ô–º —É“£–∞–π–ª—ã. üöá",
        "–í –ö–∞–∑–∞–Ω–∏ –µ—Å—Ç—å –º–µ—Ç—Ä–æ: —Ö–æ—Ç—å –∏ –Ω–µ–±–æ–ª—å—à–æ–µ, –Ω–æ –æ—á–µ–Ω—å —á–∏—Å—Ç–æ–µ –∏ —É–¥–æ–±–Ω–æ–µ. üöá"
    ),
    (
        "–ò–Ω–Ω–æ–ø–æ–ª–∏—Å ‚Äî –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–¥–∞–≥—ã IT-—à”ô“ª”ô—Ä, –∞–Ω–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–ª–∞—Ä ”©—á–µ–Ω –∞–µ—Ä—ã–º –¥”©–Ω—å—è –∫–µ–±–µ–∫. üíª",
        "–ò–Ω–Ω–æ–ø–æ–ª–∏—Å ‚Äî IT‚Äë–≥–æ—Ä–æ–¥ –≤ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–µ, –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∏—Ä –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤. üíª"
    ),
    (
        "–¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–¥–∞ –∏–∫–µ –¥”ô“Ø–ª”ô—Ç —Ç–µ–ª–µ ‚Äî —Ç–∞—Ç–∞—Ä “ª”ô–º —Ä—É—Å. –ò–∫–µ—Å–µ –¥”ô —Ä”ô—Å–º–∏ –¥”ô—Ä”ô“ó”ô–¥”ô –∫—É–ª–ª–∞–Ω—ã–ª–∞. üìù",
        "–í –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–µ –¥–≤–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —è–∑—ã–∫–∞ ‚Äî —Ç–∞—Ç–∞—Ä—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π, –æ–±–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ. üìù"
    ),
    (
        "–ö–∏–ª“Ø—á–µ–ª”ô—Ä ”©—á–µ–Ω –∏“£ –ø–æ–ø—É–ª—è—Ä —Å—É–≤–µ–Ω–∏—Ä–ª–∞—Ä–Ω—ã“£ –±–µ—Ä—Å–µ ‚Äî —á”ô–∫-—á”ô–∫ “ª”ô–º –ö–∞–∑–∞–Ω –ö—Ä–µ–º–ª–µ —Ä”ô—Å–µ–º–ª–µ –º–∞–≥–Ω–∏—Ç–ª–∞—Ä. üéÅ",
        "–û–¥–Ω–∏ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å—É–≤–µ–Ω–∏—Ä–æ–≤ ‚Äî —á–∞–∫‚Äë—á–∞–∫ –∏ –º–∞–≥–Ω–∏—Ç—ã —Å –ö–∞–∑–∞–Ω—Å–∫–∏–º –ö—Ä–µ–º–ª—ë–º. üéÅ"
    ),
    (
        "–¢–∞—Ç–∞—Ä —ç—Å—Ç—Ä–∞–¥–∞—Å—ã –¥–∞ –±–∏–∫ –ø–æ–ø—É–ª—è—Ä: –∫“Ø–ø “ó—ã—Ä—á—ã–ª–∞—Ä —Ç—É–≥–∞–Ω —è–∫ —Ç—É—Ä—ã–Ω–¥–∞ “ó—ã—Ä–ª—ã–π. üéµ",
        "–¢–∞—Ç–∞—Ä—Å–∫–∞—è —ç—Å—Ç—Ä–∞–¥–∞ –æ—á–µ–Ω—å –ø–æ–ø—É–ª—è—Ä–Ω–∞: –º–Ω–æ–≥–∏–µ –ø–µ–≤—Ü—ã –ø–æ—é—Ç –æ —Ä–æ–¥–Ω–æ–º –∫—Ä–∞–µ. üéµ"
    ),
]

FOOD_TATARSTAN = [
    (
        "–¢–∞—Ç–∞—Ä –∞—à–ª–∞—Ä—ã: ”©—á–ø–æ—á–º–∞–∫, —á”ô–∫-—á”ô–∫, –±—ç–ª–∏—à, –∫—ã—Å—Ç—ã–±—ã–π‚Ä¶ –ë–∞—à—Ç–∞ –∞—à—ã–π–±—ã–∑, –∞–Ω–Ω–∞—Ä—ã –∫–æ–¥ —è–∑–∞–±—ã–∑. üòã",
        "–¢–∞—Ç–∞—Ä—Å–∫–∏–µ –±–ª—é–¥–∞: —ç—á–ø–æ—á–º–∞–∫, —á–∞–∫-—á–∞–∫, –±—ç–ª–µ—à, –∫—ã—Å—Ç—ã–±—ã–π‚Ä¶ –°–Ω–∞—á–∞–ª–∞ –µ–¥–∏–º, –ø–æ—Ç–æ–º –∫–æ–¥ –ø–∏—à–µ–º. üòã"
    ),
    (
        "–ß”ô–π–Ω–µ –±–µ–∑ –±–æ–ª–∞–π –≥—ã–Ω–∞ —ç—á–º–∏–±–µ–∑ ‚Äî –≤–∞—Ä–µ–Ω—å–µ, —á”ô–∫-—á”ô–∫, –ø–∏—Ä–æ–≥–ª–∞—Ä –±–µ–ª”ô–Ω! ‚òï",
        "–ß–∞–π –º—ã –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ –Ω–µ –ø—å—ë–º ‚Äî —Ç–æ–ª—å–∫–æ —Å –≤–∞—Ä–µ–Ω—å–µ–º, —á–∞–∫-—á–∞–∫–æ–º –∏ –ø–∏—Ä–æ–≥–∞–º–∏! ‚òï"
    ),
    (
        "”ò–π–¥”ô, –ø—Ä–æ–µ–∫—Ç–ª–∞—Ä —Ç—É—Ä—ã–Ω–¥–∞ —Å”©–π–ª”ô—à–∫”ô–Ω—á–µ, –±–µ—Ä ”©—á–ø–æ—á–º–∞–∫ ‚Äú–∞—à–∞–ø‚Äù –∞–ª—ã–π–∫ –¥–∏–ø —É–π–ª—ã–π–º. ü•ü",
        "–î—É–º–∞—é, –ø—Ä–µ–∂–¥–µ —á–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö, –Ω–∞–¥–æ –º—ã—Å–ª–µ–Ω–Ω–æ ‚Äò—Å—ä–µ—Å—Ç—å‚Äô –æ–¥–∏–Ω —ç—á–ø–æ—á–º–∞–∫. ü•ü"
    ),
    (
        "–ë”ô–ª–µ—à ‚Äî –∑—É—Ä –ø–∏—Ä–æ–≥, —ç—á–µ–Ω–¥”ô –∏—Ç, –±”ô—Ä”ô“£–≥–µ. –ë–µ—Ä –∫–∏—Å”ô–∫ –±–µ–ª”ô–Ω –≥–µ–Ω”ô —Ç—É–∫—Ç–∞–ø –±—É–ª–º—ã–π. ü•ß",
        "–ë—ç–ª–µ—à ‚Äî –±–æ–ª—å—à–æ–π –ø–∏—Ä–æ–≥ —Å –º—è—Å–æ–º –∏ –∫–∞—Ä—Ç–æ—à–∫–æ–π. –ù–∞ –æ–¥–Ω–æ–º –∫—É—Å–æ—á–∫–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. ü•ß"
    ),
    (
        "–ö—ã—Å—Ç—ã–±—ã–π ‚Äî —é–∫–∞ –∫–∞–º—ã—Ä —ç—á–µ–Ω–¥”ô –±”ô—Ä”ô“£–≥–µ –π”ô –±–∞—à–∫–∞ —ç—á–ª–µ–∫. –£–ª–∏—Ü–∞ –∞—à–∞ –±–∞—Ä–≥–∞–Ω–¥–∞ –¥–∞ –∞—à–∞–ø –±—É–ª–∞. üåØ",
        "–ö—ã—Å—Ç—ã–±—ã–π ‚Äî –ª–µ–ø—ë—à–∫–∞ —Å –Ω–∞—á–∏–Ω–∫–æ–π –∏–∑ –∫–∞—Ä—Ç–æ—Ñ–µ–ª—è –∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ. –ú–æ–∂–Ω–æ –µ—Å—Ç—å –ø—Ä—è–º–æ –Ω–∞ —Ö–æ–¥—É. üåØ"
    ),
    (
        "–ì”©–±”ô–¥–∏—è ‚Äî ”©—á –∫–∞—Ç–ª—ã –∫–µ–±–µ–∫ –ø–∏—Ä–æ–≥: –¥”©–≥–µ, –π”©–∑–µ–º, —ç—Ä–µ–º—á–µ–∫. –ß”ô–π ”©—Å—Ç”ô–ª–µ–Ω–¥”ô –±”ô–π—Ä”ô–º —Å–∏–º–≤–æ–ª—ã. üéÇ",
        "–ì”©–±”ô–¥–∏—è ‚Äî —Å–ª–æ–≤–Ω–æ —Ç—Ä—ë—Ö—Å–ª–æ–π–Ω—ã–π –ø–∏—Ä–æ–≥: —Ä–∏—Å, –∏–∑—é–º, —Ç–≤–æ—Ä–æ–≥. –ù–∞ —á–∞–π–Ω–æ–º —Å—Ç–æ–ª–µ –∫–∞–∫ —Å–∏–º–≤–æ–ª –ø—Ä–∞–∑–¥–Ω–∏–∫–∞. üéÇ"
    ),
    (
        "–ö–∞—Ç—ã–∫ “ª”ô–º –∞–π—Ä–∞–Ω ‚Äî –º–∏–ª–ª–∏ ”ô—á–µ–ª—Ç–µ–º–ª–µ —ç—á–µ–º–ª–µ–∫–ª”ô—Ä, “ó”ô–π –∫”©–Ω–µ –±–∏–≥—Ä”ô–∫ —Ç”ô —Ä”ô—Ö”ô—Ç. ü•õ",
        "–ö–∞—Ç—ã–∫ –∏ –∞–π—Ä–∞–Ω ‚Äî –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–∏—Å–ª–æ–º–æ–ª–æ—á–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏, –ª–µ—Ç–æ–º –æ—Å–æ–±–µ–Ω–Ω–æ —Å–ø–∞—Å–∞—é—Ç. ü•õ"
    ),
]

MEMES = [
    (
        "¬´Wi-Fi`–≥–∞ –ø–∞—Ä–æ–ª—å –∏—Ç–µ–ø 'chekchek2024' –¥–∏–ø –∫—É–π–¥—ã–º. –•”ô–∑–µ—Ä –±”©—Ç–µ–Ω –ø–æ–¥—ä–µ–∑–¥ –∞—á –∫–∞—Ä—ã–Ω–≥–∞ —É—Ç—ã—Ä–∞.¬ª",
        "¬´–ü–æ—Å—Ç–∞–≤–∏–ª –ø–∞—Ä–æ–ª—å –Ω–∞ Wi‚ÄëFi 'chekchek2024'. –¢–µ–ø–µ—Ä—å –≤–µ—Å—å –ø–æ–¥—ä–µ–∑–¥ —Å–∏–¥–∏—Ç –≥–æ–ª–æ–¥–Ω—ã–π.¬ª",
    ),
    (
        "¬´–ö–µ–º–¥–µ—Ä dietada, –∫–µ–º–¥–µ—Ä sportzalda, ”ô –º–∏–Ω –∏—Å”ô: ‚Äò”ô–Ω–∏, —Ç–∞–≥—ã–Ω ”©—á–ø–æ—á–º–∞–∫ –±–∞—Ä–º—ã?¬ª.",
        "¬´–ö—Ç–æ-—Ç–æ –Ω–∞ –¥–∏–µ—Ç–µ, –∫—Ç–æ-—Ç–æ –≤ —Å–ø–æ—Ä—Ç–∑–∞–ª–µ, –∞ —è: ‚Äú–º–∞–º, –µ—â—ë —ç—á–ø–æ—á–º–∞–∫ –µ—Å—Ç—å?‚Äù¬ª.",
    ),
    (
        "¬´–°–∞–±–∞–Ω—Ç—É–π–≥–∞ –±–∞—Ä–∞–º –¥–∏–ø —É–π–ª—ã–π–º, ”ô —É–ª –∏–Ω–¥–µ –º–∏–Ω–µ–º –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π open-air –ø–µ—Ä–µ–≥—Ä—É–∑ –ø–æ –∫–∞–ª–æ—Ä–∏—è–º.¬ª",
        "¬´–î—É–º–∞—é: –ø–æ–µ–¥—É –Ω–∞ –°–∞–±–∞–Ω—Ç—É–π. –ê —ç—Ç–æ –ø–æ —Ñ–∞–∫—Ç—É –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π open-air –ø–æ –∫–∞–ª–æ—Ä–∏—è–º.¬ª",
    ),
    (
        "¬´–ö–µ–º –∏—Ä—Ç”ô–Ω —Ç–æ—Ä—ã–ø –π”©–≥–µ—Ä”ô, –∫–µ–º ‚Äî –∑–∞—Ä—è–¥–∫–∞ —è—Å—ã–π, ”ô –º–∏–Ω ‚Äî —á”ô–π –∫–∞–π–Ω–∞—Ç—ã–ø –∫—É—è–º. –ë–∞–ª–∞–Ω—Å –±—É–ª—ã—Ä–≥–∞ —Ç–∏–µ—à.¬ª",
        "¬´–ö—Ç–æ-—Ç–æ —É—Ç—Ä–æ–º –±–µ–≥–∞–µ—Ç, –∫—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ—Ç –∑–∞—Ä—è–¥–∫—É, –∞ —è —Å—Ç–∞–≤–ª—é —á–∞–π–Ω–∏–∫. –ë–∞–ª–∞–Ω—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å.¬ª",
    ),
    (
        "¬´–ö”©–Ω –¥”ô ‚Äò—Å–ø–æ—Ä—Ç–∫–∞ —á—ã–≥–∞–º‚Äô –¥–∏–º, ”ô–º–º–∞ –ª–∏—Ñ—Ç –±–µ–ª”ô–Ω –≥–µ–Ω”ô —à”©–≥—ã–ª—å–ª”ô–Ω”ô–º.¬ª",
        "¬´–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≥–æ–≤–æ—Ä—é: ‚Äò–ø–æ–π–¥—É –≤ —Å–ø–æ—Ä—Ç‚Äô, –Ω–æ —Ç—Ä–µ–Ω–∏—Ä—É—é—Å—å —Ç–æ–ª—å–∫–æ —Å –ª–∏—Ñ—Ç–æ–º.¬ª",
    ),
    (
        "¬´–¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–¥–∞ “ª–∞–≤–∞ —Ç–æ—Ä—ã—à—ã “ó–∏“£–µ–ª: –π”ô –∫–∞—Ä, –π”ô —è“£–≥—ã—Ä, –π”ô ‚Äò”ô–ª–µ –¥”ô —è“£–≥—ã—Ä, –ª”ô–∫–∏–Ω –±–∞—à–∫–∞‚Äô¬ª",
        "¬´–ü–æ–≥–æ–¥–∞ –≤ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–µ –ø—Ä–æ—Å—Ç–∞—è: –ª–∏–±–æ —Å–Ω–µ–≥, –ª–∏–±–æ –¥–æ–∂–¥—å, –ª–∏–±–æ ‚Äò—Ç–æ—Ç –∂–µ –¥–æ–∂–¥—å, –Ω–æ –ø–æ‚Äë–¥—Ä—É–≥–æ–º—É‚Äô.¬ª",
    ),
    (
        "¬´–ö–∏—Ç–∞–ø —É–∫—ã—Ä–≥–∞ —É—Ç—ã—Ä–¥—ã–º‚Ä¶ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–Ω—ã —Å“Ø–Ω–¥–µ—Ä–µ—Ä–≥”ô –æ–Ω—ã—Ç–∫–∞–Ω–º—ã–Ω –∏–∫”ô–Ω.¬ª",
        "¬´–°–µ–ª –∑–∞ –ø–æ—á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥—É‚Ä¶ –∑–∞–±—ã–ª –≤—ã–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.¬ª",
    ),
    (
        "¬´–°–∞–±–∞–Ω—Ç—É–π–¥–∞ –±–∞—Ä—ã—Å—ã–Ω –¥–∞ “ó–∏“£–¥–µ–º, —Ö”ô—Ç—Ç–∞ “Ø–∑ –∞–ø–ø–µ—Ç–∏—Ç—ã–º–Ω—ã –¥–∞.¬ª",
        "¬´–ù–∞ –°–∞–±–∞–Ω—Ç—É–µ –ø–æ–±–µ–¥–∏–ª –≤—Å–µ—Ö, –¥–∞–∂–µ —Å–≤–æ–π –∞–ø–ø–µ—Ç–∏—Ç.¬ª",
    ),
    (
        "¬´”ò–Ω–∏: ‚Äò–∞–∑ –≥—ã–Ω–∞ –∞—à–∞‚Äô. –ú–∏–Ω: ‚Äò–∞–∑ –≥—ã–Ω–∞‚Äô ‚Äì ”©—á–µ–Ω—á–µ ”©—á–ø–æ—á–º–∞–∫–Ω—ã –∞–ª–∞–º.¬ª",
        "¬´–ú–∞–º–∞: ‚Äò–µ—à—å –ø–æ–º–µ–Ω—å—à–µ‚Äô. –Ø: ‚Äò–ø–æ–º–µ–Ω—å—à–µ‚Äô ‚Äî –±–µ—Ä—É —Ç—Ä–µ—Ç–∏–π —ç—á–ø–æ—á–º–∞–∫.¬ª",
    ),
    (
        "¬´–ö–µ–º–¥–µ—Ä –æ—Ç–ø—É—Å–∫–∫–∞ –¥–∏“£–≥–µ–∑–≥”ô –±–∞—Ä–∞, ”ô –º–∏–Ω ‚Äî –∞–≤—ã–ª–≥–∞, —á”©–Ω–∫–∏ –∞–Ω–¥–∞ —á”ô–∫‚Äë—á”ô–∫ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–µ–µ.¬ª",
        "¬´–ö—Ç–æ‚Äë—Ç–æ –≤ –æ—Ç–ø—É—Å–∫ –ª–µ—Ç–∏—Ç –∫ –º–æ—Ä—é, –∞ —è ‚Äî –≤ –¥–µ—Ä–µ–≤–Ω—é: —Ç–∞–º —á–∞–∫‚Äë—á–∞–∫ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–µ–µ.¬ª",
    ),
]
# –ë–ê–ó–û–í–´–ï –§–†–ê–ó–´ –î–õ–Ø –û–ë–£–ß–ï–ù–ò–Ø –¢–ê–¢–ê–†–°–ö–û–ú–£

BASIC_TATAR_PHRASES = [
    {"tat": "–°”ô–ª–∞–º!", "trans": "S√§lam", "ru": "–ü—Ä–∏–≤–µ—Ç!"},
    {"tat": "–ò—Å”ô–Ω–º–µ!", "trans": "Is√§nme!", "ru": "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! / –ü—Ä–∏–≤–µ—Ç!"},
    {"tat": "–•”ô–ª–ª”ô—Ä –Ω–∏—á–µ–∫?", "trans": "H√§ller ni√ßek?", "ru": "–ö–∞–∫ –¥–µ–ª–∞?"},
    {"tat": "–†”ô—Ö–º”ô—Ç, ”ô–π–±”ô—Ç.", "trans": "R√§hm√§t, √§yb√§t.", "ru": "–°–ø–∞—Å–∏–±–æ, —Ö–æ—Ä–æ—à–æ."},
    {"tat": "”ò —Å–∏–Ω?", "trans": "√Ñ sin?", "ru": "–ê —Ç—ã?"},
    {"tat": "–°–∏–Ω –∫–∞–π–¥–∞–Ω?", "trans": "Sin kaydan?", "ru": "–û—Ç–∫—É–¥–∞ —Ç—ã?"},
    {"tat": "–ú–∏–Ω –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–Ω–∞–Ω.", "trans": "Min Tatarstannan.", "ru": "–Ø –∏–∑ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞."},
    {"tat": "–ò—Å–µ–º–µ“£ –Ω–∏—á–µ–∫?", "trans": "Ism√§√± ni√ßek?", "ru": "–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?"},
    {"tat": "–ú–∏–Ω–µ–º –∏—Å–µ–º–µ–º –ê–¥–∏–ª—å.", "trans": "Minem isemem Adil.", "ru": "–ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–¥–∏–ª—å."},
    {"tat": "–¢–∞–Ω—ã—à—É—ã–º–∞ –±–∏–∫ —à–∞—Ç.", "trans": "Tanu≈üuƒ±ma bik ≈üat.", "ru": "–û—á–µ–Ω—å —Ä–∞–¥(–∞) –∑–Ω–∞–∫–æ–º—Å—Ç–≤—É."},
    {"tat": "–†”ô—Ö–∏–º –∏—Ç!", "trans": "R√§him it!", "ru": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"},
    {"tat": "–ó–∏–Ω“ª–∞—Ä, —Ä”ô—Ö–º”ô—Ç.", "trans": "Zinhar, r√§hm√§t.", "ru": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–ø–∞—Å–∏–±–æ."},
    {"tat": "–ì–∞—Ñ—É –∏—Ç.", "trans": "Gafu it.", "ru": "–ü—Ä–æ—Å—Ç–∏ / –∏–∑–≤–∏–Ω–∏."},
    {"tat": "–ê“£–ª–∞–º–∞–¥—ã–º.", "trans": "A√±lamadƒ±m.", "ru": "–Ø –Ω–µ –ø–æ–Ω—è–ª(–∞)."},
    {"tat": "–ö–∞–±–∞—Ç–ª–∞ ”ô–ª–µ, –∑–∏–Ω“ª–∞—Ä.", "trans": "Kabatla √§le, zinhar.", "ru": "–ü–æ–≤—Ç–æ—Ä–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞."},
    {"tat": "”ò–∫—Ä–µ–Ω—Ä”ô–∫ —Å”©–π–ª–∏ –∞–ª–∞—Å—ã“£–º—ã?", "trans": "√Ñkrenr√§k s√∂yl√§ alasƒ±√±mƒ±?", "ru": "–ú–æ–∂–µ—à—å –≥–æ–≤–æ—Ä–∏—Ç—å –ø–æ–º–µ–¥–ª–µ–Ω–Ω–µ–µ?"},
    {"tat": "–ú–∏–Ω —Ç–∞—Ç–∞—Ä—á–∞ ”©–π—Ä”ô–Ω”ô–º.", "trans": "Min tatar√ßa √∂yr√§n√§m.", "ru": "–Ø —É—á—É —Ç–∞—Ç–∞—Ä—Å–∫–∏–π."},
    {"tat": "–ë–∏–∫ –º–∞—Ç—É—Ä —Å”©–π–ª”ô—à”ô—Å–µ“£.", "trans": "Bik matur s√∂yl√§≈ü√§se√±.", "ru": "–¢—ã –æ—á–µ–Ω—å –∫—Ä–∞—Å–∏–≤–æ –≥–æ–≤–æ—Ä–∏—à—å."},
    {"tat": "–ö“Ø–ø—Ç”ô–Ω —Ç“Ø–≥–µ–ª –∫“Ø—á–µ–ø –∫–∏–ª–¥–µ–º.", "trans": "K√ºpt√§n t√ºgel k√º√ßep kildem.", "ru": "–Ø –Ω–µ–¥–∞–≤–Ω–æ –ø–µ—Ä–µ–µ—Ö–∞–ª(–∞)."},
    {"tat": "–°–∞—É –±—É–ª!", "trans": "Saw bul!", "ru": "–ü–æ–∫–∞! / –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"},
    {"tat": "–ò—Ä—Ç”ô–≥”ô –æ—á—Ä–∞—à–∞–±—ã–∑.", "trans": "ƒ∞rt√§g√§ o√ßra≈üabƒ±z.", "ru": "–£–≤–∏–¥–∏–º—Å—è –∑–∞–≤—Ç—Ä–∞."},
    {"tat": "–ö–∏–ª”ô—Å–µ —é–ª—ã –∫“Ø–±—Ä”ô–∫ —Å”©–π–ª”ô—à–µ—Ä–±–µ–∑.", "trans": "Kil√§se yulƒ± k√ºbr√§k s√∂yl√§≈üerbez.", "ru": "–í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø–æ–≥–æ–≤–æ—Ä–∏–º –±–æ–ª—å—à–µ."},
]

# ====== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ======

# ====== –ö–õ–ê–í–ò–ê–¢–£–†–´ ======

main_menu_kb = ReplyKeyboardMarkup(
    keyboard=[
        [
            KeyboardButton(text="üé≠ –®—É—Ç–∫–∞ / Joke"),
            KeyboardButton(text="üòÇ –ú–µ–º / Meme"),
        ],
        [
            KeyboardButton(text="üìö –¢–∞—Ç–∞—Ä—Å–∫–∏–π —É—Ä–æ–∫"),
            KeyboardButton(text="üç≤ –¢–∞—Ç–∞—Ä—Å–∫–∞—è –µ–¥–∞"),
        ],
        [
            KeyboardButton(text="üèô –ö–∞–∑–∞–Ω—å / –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω"),
        ],
        [
            KeyboardButton(text="üí¨ –ü—Ä–æ—Å—Ç–æ –ø–æ–±–æ–ª—Ç–∞—Ç—å"),
        ],
    ],
    resize_keyboard=True,
    input_field_placeholder="–í—ã–±–µ—Ä–∏ –∫–Ω–æ–ø–∫—É –∏–ª–∏ –Ω–∞–ø–∏—à–∏ —Å–≤–æ—ë —Å–æ–æ–±—â–µ–Ω–∏–µ...",
)

tatlesson_inline_kb = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="–ï—â—ë —Ñ—Ä–∞–∑—É üáπüá∑", callback_data="tat_next")],
        [InlineKeyboardButton(text="–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é ‚¨ÖÔ∏è", callback_data="back_menu")],
    ]
)

joke_inline_kb = InlineKeyboardMarkup(
    inline_keyboard=[
        [InlineKeyboardButton(text="–ï—â—ë —à—É—Ç–∫—É üé≠", callback_data="joke_more")],
        [InlineKeyboardButton(text="–ú–µ–º –ø–æ‚Äë—Ç–∞—Ç–∞—Ä—Å–∫–∏ üòÇ", callback_data="meme_from_joke")],
        [InlineKeyboardButton(text="–ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é ‚¨ÖÔ∏è", callback_data="back_menu")],
    ]
)


# ====== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ======

def random_joke(user_name: str | None = None) -> str:
    tat, ru = random.choice(JOKES)
    base = (
        "üáπüá∑ <b>–¢–∞—Ç–∞—Ä—á–∞:</b>\n"
        f"{tat}\n\n"
        "üá∑üá∫ <b>–ü–æ-—Ä—É—Å—Å–∫–∏:</b>\n"
        f"{ru}"
    )
    if user_name:
        base += (
            f"\n\nüë• {user_name},"
            " –¥–∞–≤–∞–π –ø—Ä–æ–¥–æ–ª–∂–∏–º –±–æ–ª—Ç–∞—Ç—å! / ”ò–π–¥”ô, —Ç–∞–≥—ã–Ω —Å”©–π–ª”ô—à–∏–∫!"
        )
    return base


def random_proverb() -> str:
    tatar, ru = random.choice(PROVERBS)
    return (
        "üìú <b>–¢–∞—Ç–∞—Ä –º”ô–∫–∞–ª–µ / –¢–∞—Ç–∞—Ä—Å–∫–∞—è –ø–æ—Å–ª–æ–≤–∏—Ü–∞</b>\n\n"
        "üáπüá∑ <b>–¢–∞—Ç–∞—Ä—á–∞:</b>\n"
        f"{tatar}\n\n"
        "üá∑üá∫ <b>–ü–æ-—Ä—É—Å—Å–∫–∏:</b>\n"
        f"{ru}"
    )


def random_fact() -> str:
    tat, ru = random.choice(FACTS_TATARSTAN)
    return (
        "üèô <b>–ö–∞–∑–∞–Ω / –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω</b>\n\n"
        "üáπüá∑ <b>–¢–∞—Ç–∞—Ä—á–∞:</b>\n"
        f"{tat}\n\n"
        "üá∑üá∫ <b>–ü–æ-—Ä—É—Å—Å–∫–∏:</b>\n"
        f"{ru}"
    )


def random_food() -> str:
    tat, ru = random.choice(FOOD_TATARSTAN)
    return (
        "üç≤ <b>–¢–∞—Ç–∞—Ä –∞—à–ª–∞—Ä—ã / –¢–∞—Ç–∞—Ä—Å–∫–∞—è –µ–¥–∞</b>\n\n"
        "üáπüá∑ <b>–¢–∞—Ç–∞—Ä—á–∞:</b>\n"
        f"{tat}\n\n"
        "üá∑üá∫ <b>–ü–æ-—Ä—É—Å—Å–∫–∏:</b>\n"
        f"{ru}"
    )


def random_tatar_lesson() -> str:
    phrase = random.choice(BASIC_TATAR_PHRASES)
    return (
        "üß† <b>–¢–∞—Ç–∞—Ä —Ç–µ–ª–µ / –¢–∞—Ç–∞—Ä—Å–∫–∏–π —è–∑—ã–∫</b>\n\n"
        "üáπüá∑ <b>–¢–∞—Ç–∞—Ä—á–∞:</b>\n"
        f"{phrase['tat']}\n\n"
        "üî§ <b>–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è:</b>\n"
        f"<i>{phrase['trans']}</i>\n\n"
        "üá∑üá∫ <b>–ü–µ—Ä–µ–≤–æ–¥:</b>\n"
        f"{phrase['ru']}\n\n"
        "–ö–∞–±–∞—Ç–ª–∞! / –ü–æ–≤—Ç–æ—Ä–∏ –≤—Å–ª—É—Ö. üôÇ"
    )


def random_meme() -> str:
    tat, ru = random.choice(MEMES)
    return (
        "üòÇ <b>–¢–∞—Ç–∞—Ä –º–µ–º / –¢–∞—Ç–∞—Ä—Å–∫–∏–π –º–µ–º</b>\n\n"
        "üáπüá∑ <b>–¢–∞—Ç–∞—Ä—á–∞:</b>\n"
        f"{tat}\n\n"
        "üá∑üá∫ <b>–ü–æ-—Ä—É—Å—Å–∫–∏:</b>\n"
        f"{ru}"
    )

# ====== –ù–µ–±–æ–ª—å—à–∞—è –±–æ–ª—Ç–∞–ª–∫–∞ ======
def random_small_talk() -> str:
    answer_pairs = [
        (
            "–ú–∏–Ω —Ç—ã“£–ª—ã–π–º, –Ω–∏—à–ª”ô–ø –±–æ–ª–∞–π “ó–∏—Ç–¥–∏ —Å”©–π–ª”ô—à”ô –±–∞—à–ª–∞–¥—ã–∫ ”ô–ª–µ? üôÇ",
            "–Ø —Å–ª—É—à–∞—é, –Ω–æ –ø–æ—á–µ–º—É –º—ã —Ç–∞–∫ —Å–µ—Ä—å—ë–∑–Ω–æ –Ω–∞—á–∞–ª–∏ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å? üôÇ"
        ),
        (
            "”ò–π–¥”ô, —Å”©–π–ª”ô—à–∏–∫: –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, IT, —É–∫—É, —Ç–æ—Ä–º—ã—à ‚Äî –Ω”ô—Ä—Å”ô –∫—ã–∑—ã–∫—Å—ã–Ω–¥—ã—Ä–∞?",
            "–î–∞–≤–∞–π –ø–æ–≥–æ–≤–æ—Ä–∏–º: –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, IT, —É—á—ë–±–∞, –∂–∏–∑–Ω—å ‚Äî —á—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?"
        ),
        (
            "–°–∏–Ω —è–∑, –º–∏–Ω “ó–∞–≤–∞–ø –±–∏—Ä”ô–º. –ö“Ø“£–µ–ª—Å–µ–∑ –±—É–ª–º–∞—Å, –≤”ô–≥—ä–¥”ô! üòâ",
            "–¢—ã –ø–∏—à–∏, —è –æ—Ç–≤–µ—á—É. –°–∫—É—á–Ω–æ –Ω–µ –±—É–¥–µ—Ç, –æ–±–µ—â–∞—é! üòâ"
        ),
        (
            "–ö“Ø“£–µ–ª—Å–µ–∑–ª”ô–Ω–µ–ø —É—Ç—ã—Ä–º–∞, —Å“Ø–∑ –±–∞—à–ª–∞ ‚Äî –º–∏–Ω –¥”ô –∫—É—à—ã–ª–∞–º. üòÑ",
            "–ù–µ —Å–∏–¥–∏ –≥—Ä—É—Å—Ç–Ω—ã–º, –Ω–∞—á–∏–Ω–∞–π —Ä–∞–∑–≥–æ–≤–æ—Ä ‚Äî —è —Ç–æ–∂–µ –ø–æ–¥–∫–ª—é—á—É—Å—å. üòÑ"
        ),
    ]
    tat, ru = random.choice(answer_pairs)
    return f"{tat}\n{ru}"



# ====== AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Gemini) ======
async def ask_ai(question: str) -> str:
    """
    –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å –≤ Gemini (gemini-pro) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç.
    –ö–ª–∏–µ–Ω—Ç Gemini —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, –ø–æ—ç—Ç–æ–º—É –≤—ã–∑—ã–≤–∞–µ–º –µ–≥–æ —á–µ—Ä–µ–∑ asyncio.to_thread.
    """
    if not GEMINI_API_KEY:
        return (
            "AI —Ö”ô–∑–µ—Ä “Ø–ø–∫”ô–ª”ô–≥”ô–Ω –∫–µ–±–µ–∫ ‚Äî GEMINI_API_KEY —Ç–∞–±—ã–ª–º–∞–¥—ã. üßê\n"
            "–•–æ—Å—Ç–∏–Ω–≥—Ç–∞ —à—É–ª –∏—Å–µ–º–ª–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫—É—è—Ä–≥–∞ –∫–∏—Ä”ô–∫."
        )

    system_prompt = (
        "–°–∏–Ω –ê–¥–∏–ª—å –∏—Å–µ–º–ª–µ —Ç–∞—Ç–∞—Ä –±–æ—Ç—ã. –°–∏–Ω “ó–∞–≤–∞–ø –±–∏—Ä–≥”ô–Ω–¥”ô —Ç–∞—Ç–∞—Ä—á–∞ “ª”ô–º —Ä—É—Å—á–∞ "
        "—Ç–µ–ª–ª”ô—Ä–µ–Ω –±—É—Ç–∞—Ä–≥–∞ –º”©–º–∫–∏–Ω, —é–º–æ—Ä, –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω, –ö–∞–∑–∞–Ω, —Ç–∞—Ç–∞—Ä –∞—à–ª–∞—Ä—ã —Ç—É—Ä—ã–Ω–¥–∞ "
        "—à–∞—è—Ä—É–ª–∞—Ä –∫—É–ª–ª–∞–Ω. –õ”ô–∫–∏–Ω “ó–∞–≤–∞–ø–ª–∞—Ä—ã“£ —Ñ–∞–π–¥–∞–ª—ã “ª”ô–º –∞“£–ª–∞–µ—à–ª—ã –±—É–ª—Å—ã–Ω.\n\n"
        "–ö—É–ª–ª–∞–Ω—É—á—ã —Å–æ—Ä–∞–≤—ã:\n"
    )

    full_prompt = system_prompt + question

    try:
        # –í—ã–∑–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ Gemini –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
        response = await asyncio.to_thread(
            gemini_model.generate_content,
            full_prompt,
        )
        # –£ Gemini –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç –ª–µ–∂–∏—Ç –≤ —Å–≤–æ–π—Å—Ç–≤–µ .text
        text = getattr(response, "text", None)
        if not text:
            text = str(response)
        return text
    except Exception as e:
        return (
            "AI “ó–∞–≤–∞–ø –±–∏—Ä”ô –∞–ª–º–∞–¥—ã (Gemini —Ö–∞—Ç–∞—Å—ã). "
            f"”ò –ê–¥–∏–ª—å –±–æ–ª–∞–π –¥–∞ —Å–∏–Ω–µ“£ –±–µ–ª”ô–Ω. –î–µ—Ç–∞–ª—å: {e}"
        )


# ====== –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –ë–û–¢–ê ======

async def set_commands(bot: Bot):
    commands = [
        BotCommand(command="start", description="–ë–∞—à–ª–∞—É / –°—Ç–∞—Ä—Ç"),
        BotCommand(command="help", description="–Ø—Ä–¥”ô–º / –ü–æ–º–æ—â—å"),
        BotCommand(command="about", description="–ë–æ—Ç —Ç—É—Ä—ã–Ω–¥–∞ / –û –±–æ—Ç–µ"),
        BotCommand(command="joke", description="–¢–∞—Ç–∞—Ä —à—É—Ç–∫–∞ + —Ä—É—Å—á–∞"),
        BotCommand(command="mem", description="–¢–∞—Ç–∞—Ä –º–µ–º + –ø–µ—Ä–µ–≤–æ–¥"),
        BotCommand(command="proverb", description="–ú”ô–∫–∞–ª—å + –ø–µ—Ä–µ–≤–æ–¥"),
        BotCommand(command="kazan", description="–ö–∞–∑–∞–Ω / –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω —Ñ–∞–∫—Ç—ã"),
        BotCommand(command="food", description="–¢–∞—Ç–∞—Ä –∞—à–ª–∞—Ä—ã"),
        BotCommand(command="tatlesson", description="–£—Ä–æ–∫ —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ"),
        BotCommand(command="tatnext", description="–ï—â—ë —Ñ—Ä–∞–∑–∞ —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ"),
    ]
    await bot.set_my_commands(commands)


async def main():

    bot = Bot(
        token=BOT_TOKEN,
        default=DefaultBotProperties(parse_mode=ParseMode.HTML)
    )
    dp = Dispatcher()

    # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –±–æ—Ç–µ –æ–¥–∏–Ω —Ä–∞–∑, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å id –∏ username –≤ —Ö–µ–Ω–¥–ª–µ—Ä–∞—Ö
    me = await bot.get_me()
    bot_id = me.id
    bot_username = me.username.lower() if me.username else None

    # ====== –•–ï–ù–î–õ–ï–†–´ –ö–û–ú–ê–ù–î ======

    @dp.message(CommandStart())
    async def cmd_start(message: Message):
        user = message.from_user.first_name if message.from_user else None
        text = (
            f"–°”ô–ª–∞–º, {user or '–¥—É—Å'}! –ú–∏–Ω –ê–¥–∏–ª—å ‚Äî –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–Ω–∞–Ω —à–∞—è–Ω –±–æ—Ç. üòé\n"
            f"–ü—Ä–∏–≤–µ—Ç, {user or '–¥—Ä—É–≥'}! –Ø –ê–¥–∏–ª—å ‚Äî —à—É—Ç–ª–∏–≤—ã–π –±–æ—Ç –∏–∑ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω–∞. üòé\n\n"
            f"–ö–æ–º–∞–Ω–¥–∞–ª–∞—Ä –∏—Å–µ–º–ª–µ–≥–µ ”©—á–µ–Ω /help —è–∑.\n"
            f"–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥, –Ω–∞–ø–∏—à–∏ /help."
        )
        await message.answer(text, reply_markup=main_menu_kb)

    @dp.message(Command("help"))
    async def cmd_help(message: Message):
        await message.answer(HELP_TEXT, reply_markup=main_menu_kb)

    @dp.message(Command("about"))
    async def cmd_about(message: Message):
        await message.answer(ABOUT_TEXT)

    @dp.message(Command("joke"))
    async def cmd_joke(message: Message):
        user = message.from_user.first_name if message.from_user else None
        await message.answer(random_joke(user), reply_markup=joke_inline_kb)

    @dp.message(Command("mem"))
    async def cmd_mem(message: Message):
        await message.answer(random_meme(), reply_markup=joke_inline_kb)

    @dp.message(Command("proverb"))
    async def cmd_proverb(message: Message):
        await message.answer(random_proverb())

    @dp.message(Command("kazan"))
    async def cmd_kazan(message: Message):
        await message.answer(random_fact(), reply_markup=main_menu_kb)

    @dp.message(Command("food"))
    async def cmd_food(message: Message):
        await message.answer(random_food(), reply_markup=main_menu_kb)

    @dp.message(Command("tatlesson"))
    async def cmd_tatlesson(message: Message):
        await message.answer(random_tatar_lesson(), reply_markup=tatlesson_inline_kb)

    @dp.message(Command("tatnext"))
    async def cmd_tatnext(message: Message):
        await message.answer(random_tatar_lesson(), reply_markup=tatlesson_inline_kb)

    # ====== CALLBACK-–•–ï–ù–î–õ–ï–†–´ –î–õ–Ø –ö–ù–û–ü–û–ö ======

    @dp.callback_query(F.data == "tat_next")
    async def cb_tat_next(callback: CallbackQuery):
        await callback.message.answer(random_tatar_lesson(), reply_markup=tatlesson_inline_kb)
        await callback.answer()

    @dp.callback_query(F.data == "joke_more")
    async def cb_joke_more(callback: CallbackQuery):
        await callback.message.answer(random_joke(callback.from_user.first_name if callback.from_user else None), reply_markup=joke_inline_kb)
        await callback.answer()

    @dp.callback_query(F.data == "meme_from_joke")
    async def cb_meme_from_joke(callback: CallbackQuery):
        await callback.message.answer(random_meme(), reply_markup=joke_inline_kb)
        await callback.answer()

    @dp.callback_query(F.data == "back_menu")
    async def cb_back_menu(callback: CallbackQuery):
        await callback.message.answer("–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é. / –¢”©–ø –º–µ–Ω—é–≥–∞ –∫–∞–π—Ç–∞–±—ã–∑.", reply_markup=main_menu_kb)
        await callback.answer()

    # ====== –û–ë–©–ò–ô –•–ï–ù–î–õ–ï–† –ù–ê –°–û–û–ë–©–ï–ù–ò–Ø ======

    @dp.message(F.text)
    async def on_text_message(message: Message):
        text_lower = message.text.lower()

        # –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—Ç–∏–ª (Reply) –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞ ‚Äî –æ—Ç–≤–µ—á–∞–µ–º —á–µ—Ä–µ–∑ GPT
        if message.reply_to_message and message.reply_to_message.from_user and message.reply_to_message.from_user.id == bot_id:
            ai_intro = "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞. –ü—Ä–æ–¥–æ–ª–∂–∏ –¥–∏–∞–ª–æ–≥ –≤ —Å—Ç–∏–ª–µ —Ç–∞—Ç–∞—Ä—Å–∫–æ–≥–æ –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–≥–æ –±–æ—Ç–∞ –ê–¥–∏–ª—è."
            full_question = f"{ai_intro}\n\n–¢–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {message.text}"
            ai_reply = await ask_ai(full_question)
            await message.answer(ai_reply, reply_markup=main_menu_kb)
            return

        if message.chat.type == ChatType.PRIVATE:
            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é
            if text_lower == "üé≠ —à—É—Ç–∫–∞ / joke".lower():
                await message.answer(random_joke(message.from_user.first_name if message.from_user else None), reply_markup=joke_inline_kb)
                return
            if text_lower == "üòÇ –º–µ–º / meme".lower():
                await message.answer(random_meme(), reply_markup=joke_inline_kb)
                return
            if text_lower == "üìö —Ç–∞—Ç–∞—Ä—Å–∫–∏–π —É—Ä–æ–∫".lower():
                await message.answer(random_tatar_lesson(), reply_markup=tatlesson_inline_kb)
                return
            if text_lower == "üç≤ —Ç–∞—Ç–∞—Ä—Å–∫–∞—è –µ–¥–∞".lower():
                await message.answer(random_food(), reply_markup=main_menu_kb)
                return
            if text_lower == "üèô –∫–∞–∑–∞–Ω—å / —Ç–∞—Ç–∞—Ä—Å—Ç–∞–Ω".lower():
                await message.answer(random_fact(), reply_markup=main_menu_kb)
                return
            if text_lower == "üí¨ –ø—Ä–æ—Å—Ç–æ –ø–æ–±–æ–ª—Ç–∞—Ç—å".lower():
                await message.answer(
                    "–ü—Ä–æ—Å—Ç–æ –ø–∏—à–∏ –º–Ω–µ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –º—ã—Å–ª–∏, –∞ —è –±—É–¥—É –æ—Ç–≤–µ—á–∞—Ç—å –≤ —à—É—Ç–ª–∏–≤–æ–π —Ç–∞—Ç–∞—Ä–æ‚Äë—Ä—É—Å—Å–∫–æ–π —Ñ–æ—Ä–º–µ. üòä\n"
                    "–¢–µ–ª”ô—Å”ô –Ω–∏–Ω–¥–∏ —Å–æ—Ä–∞—É, —Ñ–∏–∫–µ—Ä, –∫”ô–µ—Ñ ‚Äî –±–∞—Ä—ã—Å—ã–Ω –¥–∞ —è–∑, –º–∏–Ω “ó–∞–≤–∞–ø –±–∏—Ä”ô–º!",
                    reply_markup=main_menu_kb,
                )
                return

            # AI —Ä–µ–∂–∏–º ‚Äî –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω–æ–µ –∏–ª–∏ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ —à–∞–±–ª–æ–Ω—ã
            if len(message.text.split()) > 3:
                ai_reply = await ask_ai(message.text)
                await message.answer(ai_reply, reply_markup=main_menu_kb)
                return

            # –õ–°: –æ—Ç–≤–µ—á–∞–µ–º –≤—Å–µ–≥–¥–∞
            if any(word in text_lower for word in ["–ø—Ä–∏–≤–µ—Ç", "—Å”ô–ª–∞–º", "—Å–∞–ª–∞–º", "—Å–∞–ª–∞–º –∞–ª–µ–π–∫—É–º"]):
                await message.answer(random_joke(message.from_user.first_name if message.from_user else None))

            elif any(word in text_lower for word in ["–∫–∞–∑–∞–Ω—å", "kazan", "—Ç–∞—Ç–∞—Ä—Å—Ç–∞–Ω", "tatarstan"]):
                reply = (
                    "–ö–∞–∑–∞–Ω—å —Ç–µ–º–∞—Å—ã–Ω–∞ –∫“Ø—á”ô–±–µ–∑ –∏–∫”ô–Ω, ”ô–π–¥”ô! üòÑ\n"
                    "–†–∞–∑ —É–∂ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ç–µ–º–µ –ö–∞–∑–∞–Ω–∏, –ø–æ–µ—Ö–∞–ª–∏! üòÑ\n\n"
                    + random_fact()
                )
                await message.answer(reply)

            elif any(word in text_lower for word in ["–≥–æ–ª–æ–¥–µ–Ω", "–≥–æ–ª–æ–¥–Ω–∞", "—Ö–æ—á—É –µ—Å—Ç—å", "–∫—É—à–∞—Ç—å", "–∞—à—ã–π—Å—ã –∫–∏–ª”ô"]):
                reply = (
                    "–ê—à —Ç—É—Ä—ã–Ω–¥–∞ —Å”©–π–ª”ô—à“Ø ‚Äî –∏–∑–≥–µ —ç—à. üòã\n"
                    "–†–∞–∑–≥–æ–≤–æ—Ä—ã –ø—Ä–æ –µ–¥—É ‚Äî —Å–≤—è—Ç–æ–µ –¥–µ–ª–æ. üòã\n\n"
                    + random_food()
                )
                await message.answer(reply)

            elif any(word in text_lower for word in ["—É—á–∏ —Ç–∞—Ç–∞—Ä—Å–∫–∏–π", "—Ç–∞—Ç–∞—Ä—Å–∫–∏–π —è–∑—ã–∫", "—Ç–∞—Ç–∞—Ä —Ç–µ–ª", "tatarcha"]):
                await message.answer(
                    "–ö–∏–ª”ô—Å–µ —Ñ—Ä–∞–∑–∞–Ω—ã ”©–π—Ä”ô–Ω–∏–∫! / –î–∞–≤–∞–π –≤—ã—É—á–∏–º —Ñ—Ä–∞–∑—É!\n\n" + random_tatar_lesson()
                )
            else:
                ai_reply = await ask_ai(message.text)
                await message.answer(ai_reply, reply_markup=main_menu_kb)

        # –ì—Ä—É–ø–ø—ã: –æ—Ç–≤–µ—á–∞–µ–º, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É–ø–æ–º—è–Ω—É—Ç –ê–¥–∏–ª—å
        elif message.chat.type in (ChatType.GROUP, ChatType.SUPERGROUP):
            if "–∞–¥–∏–ª—å" in text_lower or "adil" in text_lower or (bot_username and f"@{bot_username}" in text_lower):
                user_name = message.from_user.first_name if message.from_user else None
                variants = [
                    (
                        f"”ò–π–µ-”ô–π–µ, –º–∏–Ω –º–æ–Ω–¥–∞! –ù”ô—Ä—Å”ô –±–∞—Ä, {user_name or '–¥—É—Å'}? üòè",
                        f"–î–∞-–¥–∞, —è –∑–¥–µ—Å—å! –ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å, {user_name or '–¥—Ä—É–≥'}? üòè"
                    ),
                    (
                        "–ö–µ–º–¥–µ—Ä –ê–¥–∏–ª—å –¥–∏–¥–µ–º–µ? –ú–∏–Ω–µ–º —Ç–∞—Ç–∞—Ä –π”©—Ä”ô–≥–µ–º –∏–Ω–¥–µ –º–æ–Ω–¥–∞. ‚ù§Ô∏è",
                        "–ö—Ç–æ-—Ç–æ —Å–∫–∞–∑–∞–ª –ê–¥–∏–ª—å? –ú–æ—ë —Ç–∞—Ç–∞—Ä—Å–∫–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ —É–∂–µ –∑–¥–µ—Å—å. ‚ù§Ô∏è"
                    ),
                    (
                        "–ß–∞–∫—ã—Ä–¥—ã“£ ‚Äî –∫–∏–ª–¥–µ–º. –°–∞–±–∞–Ω—Ç—É–π –±–∞—à–ª—ã–π–±—ã–∑–º—ã –º–æ–Ω–¥–∞? üéâ",
                        "–ó–≤–∞–ª(–∞) ‚Äî –ø—Ä–∏—à—ë–ª. –°–∞–±–∞–Ω—Ç—É–π –∑–¥–µ—Å—å —É—Å—Ç—Ä–∞–∏–≤–∞–µ–º? üéâ"
                    ),
                    (
                        "”ò–π–¥”ô, —Å”©–π–ª”ô—à–∏–∫! –ö–∞–∑–∞–Ω, —á”ô–∫-—á”ô–∫, –∫–æ–¥, —É–∫—É ‚Äî –∫–∞–π—Å—ã —Ç–µ–º–∞–Ω—ã –∫“Ø—Ç”ô—Ä”ô–±–µ–∑? üòâ",
                        "–î–∞–≤–∞–π –ø–æ–æ–±—â–∞–µ–º—Å—è! –ö–∞–∑–∞–Ω—å, —á–∞–∫-—á–∞–∫, –∫–æ–¥, —É—á—ë–±–∞ ‚Äî –∫–∞–∫—É—é —Ç–µ–º—É –ø–æ–¥–Ω–∏–º–∞–µ–º? üòâ"
                    ),
                ]
                tat, ru = random.choice(variants)
                await message.reply(f"{tat}\n{ru}")

    # –ó–∞–ø—É—Å–∫
    await set_commands(bot)
    print("–ë–æ—Ç –ê–¥–∏–ª—å –∑–∞–ø—É—â–µ–Ω. –ù–∞–∂–º–∏ Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.")
    await dp.start_polling(bot)


if __name__ == "__main__":
    asyncio.run(main())